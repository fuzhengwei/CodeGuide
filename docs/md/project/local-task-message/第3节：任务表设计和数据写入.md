---
title: 第3节：任务表设计和数据写入
pay: https://t.zsxq.com/CWzsg
---

# 《本地任务消息组件》- 第3节：任务表设计和数据写入

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)
<br/>课程：[https://t.zsxq.com/Pfekb](https://t.zsxq.com/Pfekb)

>沉淀、分享、成长，让自己和他人都能有所收获！😄

## 一、本章诉求

设计通用的本地消息任务表和数据的插入处理。此表由引入技术组件的上游系统自行在数据库中配置。之后在调用组件的时候，就可以以同一个数据源对库表进行操作。

## 二、功能流程

如图，是本节关于写库操作的功能流程。

<div align="center">
    <img src="https://bugstack.cn/images/article/project/local-task-message/local-task-message-3-01.png" width="750px">
</div>

- 首先，为了可以在组件中完成数据库表的操作，则需要引入 DataSource 数据源，以便于在处理数据库操作的时候，可以以同一个数据库连接进行操作。
- 之后，这里我们会直接使用 JDBC 的方式操作数据库，不会单独在引入 MyBatis 框架。这样做的目的是为了上游系统使用组件的时候，避免一些版本问题。最原始的方法，兼容性也是最好的。
- 另外，本节还需要单独设计一下任务消息表。