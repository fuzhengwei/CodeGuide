---
layout: post
category: itstack-demo-design
title: é‡å­¦ Java è®¾è®¡æ¨¡å¼ï¼šå®æˆ˜å»ºé€ è€…æ¨¡å¼ã€Œå„é¡¹è£…ä¿®ç‰©æ–™ç»„åˆå¥—é¤é€‰é…åœºæ™¯ã€
tagline: by å°å‚…å“¥
tag: [itstack-demo-design]
excerpt: æ— è®ºæ‰¿æ¥ä»€ä¹ˆæ ·çš„éœ€æ±‚ï¼Œæ˜¯ä¸æ˜¯èº«è¾¹æ€»æœ‰é‚£ä¹ˆå‡ ä¸ªäººä»£ç å†™çš„çƒ‚ï¼Œä½†æ˜¯å´æ—¶å¸¸æœ‰æµ‹è¯•å°å§å§è¿‡æ¥èŠå¤©(æ±‚æ”¹bug)ã€æœ‰äº§å“å°ä¼™ä¼´é€åƒçš„(æ±‚å†™éœ€æ±‚)ã€æœ‰ä¸šåŠ¡å°å¦¹å¦¹é™ªç€æ”¹ä»£ç (æ±‚ä¸Šçº¿)ï¼Œç›´è‡³é¢†å¯¼éƒ½è®¤ä¸ºä»–çš„å·¥ä½œå¾ˆé‡è¦ï¼Œè€Œåœ¨æ—è¾¹çš„ä½ åªèƒ½è¹­ç‚¹åƒçš„ã€‚
lock: need
---

ä½œè€…ï¼šå°å‚…å“¥
<br/>åšå®¢ï¼š[https://bugstack.cn](https://bugstack.cn)

>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„

## ä¸€ã€å‰è¨€

`ä¹±ç ä¸ƒç³Ÿ [luÃ n qÄ« bÄ zÄo]ï¼Œæˆ‘æ—¶å¸¸æ€€ç–‘è¿™ä¸ªæˆè¯­æ˜¯æ¥å½¢å®¹ç¨‹åºçŒ¿çš„ï¼`

æ— è®ºæ‰¿æ¥ä»€ä¹ˆæ ·çš„éœ€æ±‚ï¼Œæ˜¯ä¸æ˜¯èº«è¾¹æ€»æœ‰é‚£ä¹ˆå‡ ä¸ªäººä»£ç å†™çš„çƒ‚ï¼Œä½†æ˜¯å´æ—¶å¸¸æœ‰æµ‹è¯•å°å§å§è¿‡æ¥èŠå¤©(*æ±‚æ”¹bug*)ã€æœ‰äº§å“å°ä¼™ä¼´é€åƒçš„(*æ±‚å†™éœ€æ±‚*)ã€æœ‰ä¸šåŠ¡å°å¦¹å¦¹é™ªç€æ”¹ä»£ç (*æ±‚ä¸Šçº¿*)ï¼Œç›´è‡³é¢†å¯¼éƒ½è®¤ä¸ºä»–çš„å·¥ä½œå¾ˆé‡è¦ï¼Œè€Œåœ¨æ—è¾¹çš„ä½ åªèƒ½è¹­ç‚¹åƒçš„ã€‚

`é‚£ä½ è¯´ï¼ŒCRUDçš„ä»£ç è¿˜æƒ³è®©æˆ‘æ€ä¹ˆæ ·ï¼Ÿ`

è¿™æ ·çš„å°ä¼™ä¼´ï¼Œå¯èƒ½æŠŠä»£ç å†™çš„å¾ˆç›´æ¥ï¼Œ`ifelse`å¤šç”¨ä¸€ç‚¹ï¼Œæ»¡è¶³äºå…ˆä¸´æ—¶æ”¯æŒä¸€ä¸‹ï¼Œæƒ³ç€è¿™ä¹Ÿæ²¡ä»€ä¹ˆçš„ã€‚è€Œä¸”è¿™æ ·çš„ä¸šåŠ¡éœ€æ±‚è¦çš„æ€¥åˆéƒ½æ˜¯å¢åˆ æ”¹æŸ¥çš„å†…å®¹ï¼Œå®åœ¨ä¸æƒ³åšè®¾è®¡ã€‚è€Œå¦‚æœæœ‰äººæåˆ°è¯´å¥½å¥½è®¾è®¡ä¸‹ï¼Œå¯èƒ½ä¹Ÿä¼šè¢«åå¯¹ä¸è¦è¿‡æ¸¡è®¾è®¡ã€‚

`è´´è†è¯ä¼¼çš„ä¿®ä¿®è¡¥è¡¥ï¼Œä¸€æ¬¡æ¯”ä¸€æ¬¡ææ€–ï¼`

ç¬¬ä¸€æ¬¡å®Œæˆäº§å“éœ€æ±‚å®åœ¨æ˜¯å¾ˆå¿«ï¼Œä½†äº’è”ç½‘çš„ä»£ç ä¸æ¯”ä¼ ç»Ÿä¼ä¸šã€‚åœ¨ä¼ ç»Ÿè¡Œä¸šå¯èƒ½ä¸€å¥—ä»£ç èƒ½ç”¨åå¹´ï¼Œä½†åœ¨äº’è”ç½‘é«˜é€Ÿçš„è¿­ä»£ä¸‹ä½ çš„å·¥ç¨‹ï¼Œä¸€å¹´å°±è¦å˜åŠ¨å‡ åæ¬¡ã€‚å¦‚æœä»ä¸€å¼€å§‹å°±æƒ³ç€åªè¦å®ŒæˆåŠŸèƒ½å°±å¯ä»¥ï¼Œé‚£ä¹ˆéšä¹‹è€Œæ¥çš„æ˜¯åç»­çš„éœ€æ±‚éš¾ä»¥æ‰¿æ¥ï¼Œæ¯æ¬¡çœ‹ç€æˆç‰‡æˆç‰‡çš„ä»£ç ï¼Œå®åœ¨ä¸çŸ¥å¦‚ä½•ä¸‹æ‰‹ã€‚

`åœ¨ç ”å‘æµç¨‹è§„èŒƒä¸‹æ‰§è¡Œï¼Œæ‰èƒ½å†™å‡ºå¥½ç¨‹åºï¼`

ä¸€ä¸ªé¡¹ç›®çš„ä¸Šçº¿å¾€å¾€è¦ç»å†`ä¸šåŠ¡éœ€æ±‚`ã€`äº§å“è®¾è®¡`ã€`ç ”å‘å®ç°`ã€`æµ‹è¯•éªŒè¯`ã€`ä¸Šçº¿éƒ¨ç½²`åˆ°`æ­£å¼å¼€é‡`ï¼Œè€Œè¿™å…¶ä¸­å¯¹ç ”å‘éå¸¸é‡è¦çš„ä¸€æ¢å°±æ˜¯ç ”å‘å®ç°çš„è¿‡ç¨‹ï¼Œåˆå¯ä»¥åŒ…æ‹¬ä¸ºï¼›`æ¶æ„é€‰å‹`ã€`åŠŸèƒ½è®¾è®¡`ã€`è®¾è®¡è¯„å®¡`ã€`ä»£ç å®ç°`ã€`ä»£ç è¯„å®¡`ã€`å•æµ‹è¦†ç›–ç‡æ£€æŸ¥`ã€`ç¼–å†™æ–‡æ¡£`ã€`æäº¤æµ‹è¯•`ã€‚æ‰€ä»¥åœ¨ä¸€äº›æµç¨‹è§„èŒƒä¸‹ï¼Œå…¶å®å¾ˆéš¾è®©ä½ éšæ„å¼€å‘ä»£ç ã€‚

å¼€å‘ä»£ç çš„è¿‡ç¨‹ä¸æ˜¯`ç‚«æŠ€`ï¼Œå°±åƒç›–æˆ¿å­å¦‚æœä¸æŒ‰ç…§å›¾çº¸æ¥ä¿®å»ºï¼Œå›é¦–å°±åœ¨å±±å¢™ä¸Šæ­ä¸€ä¸ªå¨æˆ¿å«æµ´ï¼å¯èƒ½åœ¨ç°å®åœºæ™¯ä¸­è¿™å¾ˆè’å”ï¼Œä½†åœ¨åŠŸèƒ½å¼€å‘ä¸­å´æ€»æœ‰è¿™æ ·çš„ä»£ç ã€‚

**æ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€äº›è®¾è®¡æ¨¡å¼çš„æ ‡å‡†æ€æƒ³ï¼Œå»å»ºè®¾ä»£ç ç»“æ„ï¼Œæå‡å…¨å±€æŠŠæ§èƒ½åŠ›ã€‚**

## äºŒã€å¼€å‘ç¯å¢ƒ

1. JDK 1.8
2. Idea + Maven
3. æ¶‰åŠå·¥ç¨‹ä¸‰ä¸ªï¼Œå¯ä»¥é€šè¿‡å…³æ³¨**å…¬ä¼—å·**ï¼š[`bugstackè™«æ´æ ˆ`](https://bugstack.cn/assets/images/qrcode.png)ï¼Œå›å¤`æºç ä¸‹è½½`è·å–(æ‰“å¼€è·å–çš„é“¾æ¥ï¼Œæ‰¾åˆ°åºå·18)

| å·¥ç¨‹                     | æè¿°                                         |
| ------------------------ | -------------------------------------------- |
| itstack-demo-design-3-00 | åœºæ™¯æ¨¡æ‹Ÿå·¥ç¨‹ï¼Œæ¨¡æ‹Ÿè£…ä¿®è¿‡ç¨‹ä¸­çš„å¥—é¤é€‰æ‹©(è±ªåã€ç”°å›­ã€ç®€çº¦) |
| itstack-demo-design-3-01 | ä½¿ç”¨ä¸€å¨ä»£ç å®ç°ä¸šåŠ¡éœ€æ±‚ï¼Œä¹Ÿæ˜¯å¯¹ifelseçš„ä½¿ç”¨ |
| itstack-demo-design-3-02 | é€šè¿‡è®¾è®¡æ¨¡å¼ä¼˜åŒ–æ”¹é€ ä»£ç ï¼Œäº§ç”Ÿå¯¹æ¯”æ€§ä»è€Œå­¦ä¹  |

## ä¸‰ã€å»ºé€ è€…æ¨¡å¼ä»‹ç»

![å»ºé€ è€…æ¨¡å¼ï¼Œå›¾ç‰‡æ¥è‡ª refactoringguru.cn](https://bugstack.cn/assets/images/2020/itstack-demo-design-3-01.png)

**å»ºé€ è€…æ¨¡å¼æ‰€å®Œæˆçš„å†…å®¹å°±æ˜¯é€šè¿‡å°†å¤šä¸ªç®€å•å¯¹è±¡é€šè¿‡ä¸€æ­¥æ­¥çš„ç»„è£…æ„å»ºå‡ºä¸€ä¸ªå¤æ‚å¯¹è±¡çš„è¿‡ç¨‹ã€‚**

`é‚£ä¹ˆï¼Œå“ªé‡Œæœ‰è¿™æ ·çš„åœºæ™¯å‘¢ï¼Ÿ`

ä¾‹å¦‚ä½ ç©ç‹è€…è£è€€çš„æ—¶çš„åˆå§‹åŒ–ç•Œé¢ï¼›æœ‰ä¸‰æ¡è·¯ã€æœ‰æ ‘æœ¨ã€æœ‰é‡æ€ªã€æœ‰å®ˆå«å¡”ç­‰ç­‰ï¼Œç”šè‡³ä¾èµ–äºä½ çš„ç½‘ç»œæƒ…å†µä¼šæ§åˆ¶æ¸…æ™°åº¦ã€‚è€Œå½“ä½ æ¢ä¸€ä¸ªåœºæ™¯è¿›è¡Œå…¶ä»–ä¸åŒæ¨¡å¼çš„é€‰æ‹©æ—¶ï¼ŒåŒæ ·ä¼šå»ºè®¾é“è·¯ã€æ ‘æœ¨ã€é‡æ€ªç­‰ç­‰ï¼Œä½†æ˜¯ä»–ä»¬çš„æ‘†æ”¾å’Œå¤§å°éƒ½æœ‰ä¸åŒã€‚è¿™é‡Œå°±å¯ä»¥ç”¨åˆ°å»ºé€ è€…æ¨¡å¼æ¥åˆå§‹åŒ–æ¸¸æˆå…ƒç´ ã€‚

è€Œè¿™æ ·çš„æ ¹æ®ç›¸åŒçš„`ç‰©æ–™`ï¼Œä¸åŒçš„ç»„è£…æ‰€äº§ç”Ÿå‡ºçš„å…·ä½“çš„å†…å®¹ï¼Œå°±æ˜¯å»ºé€ è€…æ¨¡å¼çš„æœ€ç»ˆæ„å›¾ï¼Œä¹Ÿå°±æ˜¯ï¼›**å°†ä¸€ä¸ªå¤æ‚çš„æ„å»ºä¸å…¶è¡¨ç¤ºç›¸åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚**

## å››ã€æ¡ˆä¾‹åœºæ™¯æ¨¡æ‹Ÿ

![åœºæ™¯æ¨¡æ‹Ÿï¼›è£…ä¿®å¥—é¤é€‰æ‹©(è±ªåã€ç”°å›­ã€ç®€çº¦)](https://bugstack.cn/assets/images/2020/itstack-demo-design-3-02.png)

**è¿™é‡Œæˆ‘ä»¬æ¨¡æ‹Ÿè£…ä¿®å…¬å¸å¯¹äºè®¾è®¡å‡ºä¸€äº›å¥—é¤è£…ä¿®æœåŠ¡çš„åœºæ™¯ã€‚**

å¾ˆå¤šè£…ä¿®å…¬å¸éƒ½ä¼šç»™å‡ºè‡ªå®¶çš„å¥—é¤æœåŠ¡ï¼Œä¸€èˆ¬æœ‰ï¼›æ¬§å¼è±ªåã€è½»å¥¢ç”°å›­ã€ç°ä»£ç®€çº¦ç­‰ç­‰ï¼Œè€Œè¿™äº›å¥—é¤çš„åé¢æ˜¯ä¸åŒçš„å•†å“çš„ç»„åˆã€‚ä¾‹å¦‚ï¼›ä¸€çº§&äºŒçº§åŠé¡¶ã€å¤šä¹å£«æ¶‚æ–™ã€åœ£è±¡åœ°æ¿ã€é©¬å¯æ³¢ç½—åœ°ç –ç­‰ç­‰ï¼ŒæŒ‰ç…§ä¸åŒçš„å¥—é¤çš„ä»·æ ¼é€‰å–ä¸åŒçš„å“ç‰Œç»„åˆï¼Œæœ€ç»ˆå†æŒ‰ç…§è£…ä¿®é¢ç§¯ç»™å‡ºä¸€ä¸ªæ•´ä½“çš„æŠ¥ä»·ã€‚

è¿™é‡Œæˆ‘ä»¬å°±æ¨¡æ‹Ÿè£…ä¿®å…¬å¸æƒ³æ¨å‡ºä¸€äº›å¥—é¤è£…ä¿®æœåŠ¡ï¼ŒæŒ‰ç…§ä¸åŒçš„ä»·æ ¼è®¾å®šå“ç‰Œé€‰æ‹©ç»„åˆï¼Œä»¥è¾¾åˆ°ä½¿ç”¨å»ºé€ è€…æ¨¡å¼çš„è¿‡ç¨‹ã€‚

### 1. åœºæ™¯æ¨¡æ‹Ÿå·¥ç¨‹

```java
itstack-demo-design-3-00
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ java
            â””â”€â”€ org.itstack.demo.design
                â”œâ”€â”€ ceilling
                â”‚   â”œâ”€â”€ LevelOneCeiling.java
                â”‚   â””â”€â”€ LevelTwoCeiling.java
                â”œâ”€â”€ coat
                â”‚   â”œâ”€â”€ DuluxCoat.java
                â”‚   â””â”€â”€ LiBangCoat.java
                â”‚   â””â”€â”€ LevelTwoCeiling.java
                â”œâ”€â”€ floor
                â”‚   â”œâ”€â”€ DerFloor.java
                â”‚   â””â”€â”€ ShengXiangFloor.java
                â”œâ”€â”€ tile
                â”‚   â”œâ”€â”€ DongPengTile.java
                â”‚   â””â”€â”€ MarcoPoloTile.java
                â””â”€â”€ Matter.java
```

åœ¨æ¨¡æ‹Ÿå·¥ç¨‹ä¸­æä¾›äº†è£…ä¿®ä¸­æ‰€éœ€è¦çš„ç‰©æ–™ï¼›`ceilling(åŠé¡¶)`ã€`coat(æ¶‚æ–™)`ã€`floor(åœ°æ¿)`ã€`tile(åœ°ç –)`ï¼Œè¿™ä¹ˆå››é¡¹å†…å®¹ã€‚ï¼ˆ*å®é™…çš„è£…ä¿®ç‰©æ–™è¦æ¯”è¿™ä¸ªå¤šçš„å¤š*ï¼‰

### 2. åœºæ™¯ç®€è¿°

#### 2.1 ç‰©æ–™æ¥å£

```java 
public interface Matter {

    String scene();      // åœºæ™¯ï¼›åœ°æ¿ã€åœ°ç –ã€æ¶‚æ–™ã€åŠé¡¶

    String brand();      // å“ç‰Œ

    String model();      // å‹å·

    BigDecimal price();  // ä»·æ ¼

    String desc();       // æè¿°

}
```

- ç‰©æ–™æ¥å£æä¾›äº†åŸºæœ¬çš„ä¿¡æ¯ï¼Œä»¥ä¿è¯æ‰€æœ‰çš„è£…ä¿®ææ–™éƒ½å¯ä»¥æŒ‰ç…§ç»Ÿä¸€æ ‡å‡†è¿›è¡Œè·å–ã€‚

#### 2.2 åŠé¡¶(ceiling)

**ä¸€çº§é¡¶**

```java
public class LevelOneCeiling implements Matter {

    public String scene() {
        return "åŠé¡¶";
    }

    public String brand() {
        return "è£…ä¿®å…¬å¸è‡ªå¸¦";
    }

    public String model() {
        return "ä¸€çº§é¡¶";
    }

    public BigDecimal price() {
        return new BigDecimal(260);
    }

    public String desc() {
        return "é€ å‹åªåšä½ä¸€çº§ï¼Œåªæœ‰ä¸€ä¸ªå±‚æ¬¡çš„åŠé¡¶ï¼Œä¸€èˆ¬ç¦»é¡¶120-150mm";
    }

}
```

**äºŒçº§é¡¶**

```java 
public class LevelTwoCeiling  implements Matter {

    public String scene() {
        return "åŠé¡¶";
    }

    public String brand() {
        return "è£…ä¿®å…¬å¸è‡ªå¸¦";
    }

    public String model() {
        return "äºŒçº§é¡¶";
    }

    public BigDecimal price() {
        return new BigDecimal(850);
    }

    public String desc() {
        return "ä¸¤ä¸ªå±‚æ¬¡çš„åŠé¡¶ï¼ŒäºŒçº§åŠé¡¶é«˜åº¦ä¸€èˆ¬å°±å¾€ä¸‹åŠ20cmï¼Œè¦æ˜¯å±‚é«˜å¾ˆé«˜ï¼Œä¹Ÿå¯å¢åŠ æ¯çº§çš„åšåº¦";
    }
    
}
```

#### 2.3 æ¶‚æ–™(coat)

**å¤šä¹å£«**

```java
public class DuluxCoat  implements Matter {

    public String scene() {
        return "æ¶‚æ–™";
    }

    public String brand() {
        return "å¤šä¹å£«(Dulux)";
    }

    public String model() {
        return "ç¬¬äºŒä»£";
    }

    public BigDecimal price() {
        return new BigDecimal(719);
    }

    public String desc() {
        return "å¤šä¹å£«æ˜¯é˜¿å…‹è‹è¯ºè´å°”æ——ä¸‹çš„è‘—åå»ºç­‘è£…é¥°æ²¹æ¼†å“ç‰Œï¼Œäº§å“ç•…é”€äºå…¨çƒ100ä¸ªå›½å®¶ï¼Œæ¯å¹´å…¨çƒæœ‰5000ä¸‡æˆ·å®¶åº­ä½¿ç”¨å¤šä¹å£«æ²¹æ¼†ã€‚";
    }
    
}
```

**ç«‹é‚¦**

```java
public class LiBangCoat implements Matter {

    public String scene() {
        return "æ¶‚æ–™";
    }

    public String brand() {
        return "ç«‹é‚¦";
    }

    public String model() {
        return "é»˜è®¤çº§åˆ«";
    }

    public BigDecimal price() {
        return new BigDecimal(650);
    }

    public String desc() {
        return "ç«‹é‚¦å§‹ç»ˆä»¥å¼€å‘ç»¿è‰²äº§å“ã€æ³¨é‡é«˜ç§‘æŠ€ã€é«˜å“è´¨ä¸ºç›®æ ‡ï¼Œä»¥æŠ€æœ¯åŠ›é‡ä¸æ–­æ¨è¿›ç§‘ç ”å’Œå¼€å‘ï¼Œæ»¡è¶³æ¶ˆè´¹è€…éœ€æ±‚ã€‚";
    }

}
```

#### 2.4 åœ°æ¿(floor)

**å¾·å°”**

```java
public class DerFloor implements Matter {

    public String scene() {
        return "åœ°æ¿";
    }

    public String brand() {
        return "å¾·å°”(Der)";
    }

    public String model() {
        return "A+";
    }

    public BigDecimal price() {
        return new BigDecimal(119);
    }

    public String desc() {
        return "DERå¾·å°”é›†å›¢æ˜¯å…¨çƒé¢†å…ˆçš„ä¸“ä¸šæœ¨åœ°æ¿åˆ¶é€ å•†ï¼ŒåŒ—äº¬2008å¹´å¥¥è¿ä¼šå®¶è£…å’Œå…¬è£…åœ°æ¿ä¾›åº”å•†";
    }
    
}
```

**åœ£è±¡**

```java
public class ShengXiangFloor implements Matter {

    public String scene() {
        return "åœ°æ¿";
    }

    public String brand() {
        return "åœ£è±¡";
    }

    public String model() {
        return "ä¸€çº§";
    }

    public BigDecimal price() {
        return new BigDecimal(318);
    }

    public String desc() {
        return "åœ£è±¡åœ°æ¿æ˜¯ä¸­å›½åœ°æ¿è¡Œä¸šè‘—åå“ç‰Œã€‚åœ£è±¡åœ°æ¿æ‹¥æœ‰ä¸­å›½é©°åå•†æ ‡ã€ä¸­å›½åç‰Œã€å›½å®¶å…æ£€ã€ä¸­å›½ç¯å¢ƒæ ‡å¿—è®¤è¯ç­‰å¤šé¡¹è£èª‰ã€‚";
    }

}
```

#### 2.5 åœ°ç –(tile)

**ä¸œé¹**

```java
public class DongPengTile implements Matter {

    public String scene() {
        return "åœ°ç –";
    }

    public String brand() {
        return "ä¸œé¹ç“·ç –";
    }

    public String model() {
        return "10001";
    }

    public BigDecimal price() {
        return new BigDecimal(102);
    }

    public String desc() {
        return "ä¸œé¹ç“·ç –ä»¥å“è´¨é“¸å°±å“ç‰Œï¼Œç§‘æŠ€æ¨åŠ¨å“ç‰Œï¼Œå£ç¢‘ä¼ æ’­å“ç‰Œä¸ºå®—æ—¨ï¼Œ2014å¹´å“ç‰Œä»·å€¼132.35äº¿å…ƒï¼Œä½åˆ—å»ºé™¶è¡Œä¸šæ¦œé¦–ã€‚";
    }

}
```

**é©¬å¯æ³¢ç½—**

```java
public class MarcoPoloTile implements Matter {

    public String scene() {
        return "åœ°ç –";
    }

    public String brand() {
        return "é©¬å¯æ³¢ç½—(MARCO POLO)";
    }

    public String model() {
        return "ç¼ºçœ";
    }

    public BigDecimal price() {
        return new BigDecimal(140);
    }

    public String desc() {
        return "â€œé©¬å¯æ³¢ç½—â€å“ç‰Œè¯ç”Ÿäº1996å¹´ï¼Œä½œä¸ºå›½å†…æœ€æ—©å“ç‰ŒåŒ–çš„å»ºé™¶å“ç‰Œï¼Œä»¥â€œæ–‡åŒ–é™¶ç“·â€å é¢†å¸‚åœºï¼Œäº«æœ‰â€œä»¿å¤ç –è‡³å°Šâ€çš„ç¾èª‰ã€‚";
    }

}
```

- ä»¥ä¸Šå°±æ˜¯æœ¬æ¬¡è£…ä¿®å…¬å¸æ‰€æä¾›çš„`è£…ä¿®é…ç½®å•`ï¼Œæ¥ä¸‹æˆ‘ä»¬ä¼šé€šè¿‡æ¡ˆä¾‹å»ä½¿ç”¨ä¸åŒçš„ç‰©æ–™ç»„åˆå‡ºä¸åŒçš„å¥—é¤æœåŠ¡ã€‚

## äº”ã€ç”¨ä¸€å¨å¨ä»£ç å®ç°

`è®²é“ç†æ²¡æœ‰ifelseè§£å†³ä¸äº†çš„é€»è¾‘ï¼Œä¸è¡Œå°±åœ¨åŠ ä¸€è¡Œï¼`

æ¯ä¸€ä¸ªç« èŠ‚ä¸­æˆ‘ä»¬éƒ½ä¼šä½¿ç”¨è¿™æ ·å¾ˆç›´ç™½çš„æ–¹å¼å»æŠŠåŠŸèƒ½å®ç°å‡ºæ¥ï¼Œåœ¨é€šè¿‡è®¾è®¡æ¨¡å¼å»ä¼˜åŒ–å®Œå–„ã€‚è¿™æ ·çš„ä»£ç ç»“æ„ä¹Ÿéƒ½æ˜¯éå¸¸ç®€å•çš„ï¼Œæ²¡æœ‰å¤æ‚çš„ç±»å…³ç³»ç»“æ„ï¼Œéƒ½æ˜¯ç›´æ¥ç›´å»çš„ä»£ç ã€‚é™¤äº†æˆ‘ä»¬ç»å¸¸å¼ºè°ƒçš„è¿™æ ·çš„ä»£ç ä¸èƒ½å¾ˆå¥½çš„æ‰©å±•å¤–ï¼Œåšä¸€äº›ä¾‹å­demoå·¥ç¨‹è¿˜æ˜¯å¯ä»¥çš„ã€‚

### 1. å·¥ç¨‹ç»“æ„

```java
itstack-demo-design-3-01
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ java
            â””â”€â”€ org.itstack.demo.design
                â””â”€â”€ DecorationPackageController.java
```

ä¸€ä¸ªç±»å‡ åƒè¡Œçš„ä»£ç ä½ æ˜¯å¦è§è¿‡ï¼Œåš¯ï¼Ÿé‚£ä»Šå¤©å°±è®©ä½ è§è¯†ä¸€ä¸‹æœ‰è¿™æ ·æ½œè´¨çš„ç±»ï¼

### 2. ifelseå®ç°éœ€æ±‚

```java 
public class DecorationPackageController {

    public String getMatterList(BigDecimal area, Integer level) {

        List<Matter> list = new ArrayList<Matter>(); // è£…ä¿®æ¸…å•
        BigDecimal price = BigDecimal.ZERO;          // è£…ä¿®ä»·æ ¼

        // è±ªåæ¬§å¼
        if (1 == level) {

            LevelTwoCeiling levelTwoCeiling = new LevelTwoCeiling(); // åŠé¡¶ï¼ŒäºŒçº§é¡¶
            DuluxCoat duluxCoat = new DuluxCoat();                   // æ¶‚æ–™ï¼Œå¤šä¹å£«
            ShengXiangFloor shengXiangFloor = new ShengXiangFloor(); // åœ°æ¿ï¼Œåœ£è±¡

            list.add(levelTwoCeiling);
            list.add(duluxCoat);
            list.add(shengXiangFloor);

            price = price.add(area.multiply(new BigDecimal("0.2")).multiply(levelTwoCeiling.price()));
            price = price.add(area.multiply(new BigDecimal("1.4")).multiply(duluxCoat.price()));
            price = price.add(area.multiply(shengXiangFloor.price()));

        }

        // è½»å¥¢ç”°å›­
        if (2 == level) {

            LevelTwoCeiling levelTwoCeiling = new LevelTwoCeiling(); // åŠé¡¶ï¼ŒäºŒçº§é¡¶
            LiBangCoat liBangCoat = new LiBangCoat();                // æ¶‚æ–™ï¼Œç«‹é‚¦
            MarcoPoloTile marcoPoloTile = new MarcoPoloTile();       // åœ°ç –ï¼Œé©¬å¯æ³¢ç½—

            list.add(levelTwoCeiling);
            list.add(liBangCoat);
            list.add(marcoPoloTile);

            price = price.add(area.multiply(new BigDecimal("0.2")).multiply(levelTwoCeiling.price()));
            price = price.add(area.multiply(new BigDecimal("1.4")).multiply(liBangCoat.price()));
            price = price.add(area.multiply(marcoPoloTile.price()));

        }

        // ç°ä»£ç®€çº¦
        if (3 == level) {

            LevelOneCeiling levelOneCeiling = new LevelOneCeiling();  // åŠé¡¶ï¼ŒäºŒçº§é¡¶
            LiBangCoat liBangCoat = new LiBangCoat();                 // æ¶‚æ–™ï¼Œç«‹é‚¦
            DongPengTile dongPengTile = new DongPengTile();           // åœ°ç –ï¼Œä¸œé¹

            list.add(levelOneCeiling);
            list.add(liBangCoat);
            list.add(dongPengTile);

            price = price.add(area.multiply(new BigDecimal("0.2")).multiply(levelOneCeiling.price()));
            price = price.add(area.multiply(new BigDecimal("1.4")).multiply(liBangCoat.price()));
            price = price.add(area.multiply(dongPengTile.price()));
        }

        StringBuilder detail = new StringBuilder("\r\n-------------------------------------------------------\r\n" +
                "è£…ä¿®æ¸…å•" + "\r\n" +
                "å¥—é¤ç­‰çº§ï¼š" + level + "\r\n" +
                "å¥—é¤ä»·æ ¼ï¼š" + price.setScale(2, BigDecimal.ROUND_HALF_UP) + " å…ƒ\r\n" +
                "æˆ¿å±‹é¢ç§¯ï¼š" + area.doubleValue() + " å¹³ç±³\r\n" +
                "ææ–™æ¸…å•ï¼š\r\n");

        for (Matter matter: list) {
            detail.append(matter.scene()).append("ï¼š").append(matter.brand()).append("ã€").append(matter.model()).append("ã€å¹³ç±³ä»·æ ¼ï¼š").append(matter.price()).append(" å…ƒã€‚\n");
        }

        return detail.toString();

    }

}
```

- é¦–å…ˆè¿™æ®µä»£ç æ‰€è¦è§£å†³çš„é—®é¢˜å°±æ˜¯æ¥æ”¶å…¥å‚ï¼›è£…ä¿®é¢ç§¯(area)ã€è£…ä¿®ç­‰çº§(level)ï¼Œæ ¹æ®ä¸åŒç±»å‹çš„è£…ä¿®ç­‰çº§é€‰æ‹©ä¸åŒçš„ææ–™ã€‚
- å…¶æ¬¡åœ¨å®ç°è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°æ¯ä¸€æ®µ`if`å—é‡Œï¼Œéƒ½åŒ…å«ç€ä¸é€šçš„ææ–™(*åŠé¡¶ï¼ŒäºŒçº§é¡¶ã€æ¶‚æ–™ï¼Œç«‹é‚¦ã€åœ°ç –ï¼Œé©¬å¯æ³¢ç½—*)ï¼Œæœ€ç»ˆç”Ÿæˆè£…ä¿®æ¸…å•å’Œè£…ä¿®æˆæœ¬ã€‚
- æœ€åæä¾›è·å–è£…ä¿®è¯¦ç»†ä¿¡æ¯çš„æ–¹æ³•ï¼Œè¿”å›ç»™è°ƒç”¨æ–¹ï¼Œç”¨äºçŸ¥é“è£…ä¿®æ¸…å•ã€‚

### 3. æµ‹è¯•éªŒè¯

æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡junitå•å…ƒæµ‹è¯•çš„æ–¹å¼éªŒè¯æ¥å£æœåŠ¡ï¼Œå¼ºè°ƒæ—¥å¸¸ç¼–å†™å¥½å•æµ‹å¯ä»¥æ›´å¥½çš„æé«˜ç³»ç»Ÿçš„å¥å£®åº¦ã€‚

**ç¼–å†™æµ‹è¯•ç±»ï¼š**

```java
@Test
public void test_DecorationPackageController(){
    DecorationPackageController decoration = new DecorationPackageController();
    // è±ªåæ¬§å¼
    System.out.println(decoration.getMatterList(new BigDecimal("132.52"),1));
    // è½»å¥¢ç”°å›­
    System.out.println(decoration.getMatterList(new BigDecimal("98.25"),2));
    // ç°ä»£ç®€çº¦
    System.out.println(decoration.getMatterList(new BigDecimal("85.43"),3));
}
```

**ç»“æœï¼š**

```java
-------------------------------------------------------
è£…ä¿®æ¸…å•
å¥—é¤ç­‰çº§ï¼š1
å¥—é¤ä»·æ ¼ï¼š198064.39 å…ƒ
æˆ¿å±‹é¢ç§¯ï¼š132.52 å¹³ç±³
ææ–™æ¸…å•ï¼š
åŠé¡¶ï¼šè£…ä¿®å…¬å¸è‡ªå¸¦ã€äºŒçº§é¡¶ã€å¹³ç±³ä»·æ ¼ï¼š850 å…ƒã€‚
æ¶‚æ–™ï¼šå¤šä¹å£«(Dulux)ã€ç¬¬äºŒä»£ã€å¹³ç±³ä»·æ ¼ï¼š719 å…ƒã€‚
åœ°æ¿ï¼šåœ£è±¡ã€ä¸€çº§ã€å¹³ç±³ä»·æ ¼ï¼š318 å…ƒã€‚


-------------------------------------------------------
è£…ä¿®æ¸…å•
å¥—é¤ç­‰çº§ï¼š2
å¥—é¤ä»·æ ¼ï¼š119865.00 å…ƒ
æˆ¿å±‹é¢ç§¯ï¼š98.25 å¹³ç±³
ææ–™æ¸…å•ï¼š
åŠé¡¶ï¼šè£…ä¿®å…¬å¸è‡ªå¸¦ã€äºŒçº§é¡¶ã€å¹³ç±³ä»·æ ¼ï¼š850 å…ƒã€‚
æ¶‚æ–™ï¼šç«‹é‚¦ã€é»˜è®¤çº§åˆ«ã€å¹³ç±³ä»·æ ¼ï¼š650 å…ƒã€‚
åœ°ç –ï¼šé©¬å¯æ³¢ç½—(MARCO POLO)ã€ç¼ºçœã€å¹³ç±³ä»·æ ¼ï¼š140 å…ƒã€‚


-------------------------------------------------------
è£…ä¿®æ¸…å•
å¥—é¤ç­‰çº§ï¼š3
å¥—é¤ä»·æ ¼ï¼š90897.52 å…ƒ
æˆ¿å±‹é¢ç§¯ï¼š85.43 å¹³ç±³
ææ–™æ¸…å•ï¼š
åŠé¡¶ï¼šè£…ä¿®å…¬å¸è‡ªå¸¦ã€ä¸€çº§é¡¶ã€å¹³ç±³ä»·æ ¼ï¼š260 å…ƒã€‚
æ¶‚æ–™ï¼šç«‹é‚¦ã€é»˜è®¤çº§åˆ«ã€å¹³ç±³ä»·æ ¼ï¼š650 å…ƒã€‚
åœ°ç –ï¼šä¸œé¹ç“·ç –ã€10001ã€å¹³ç±³ä»·æ ¼ï¼š102 å…ƒã€‚


Process finished with exit code 0
```

- çœ‹åˆ°è¾“å‡ºçš„è¿™ä¸ªç»“æœï¼Œå·²ç»å¾ˆæœ‰è£…ä¿®å…¬å¸æä¾›æŠ¥ä»·å•çš„æ„Ÿè§‰äº†ã€‚ä»¥ä¸Šè¿™æ®µä½¿ç”¨`ifelse`æ–¹å¼å®ç°çš„ä»£ç ï¼Œç›®å‰å·²ç»æ»¡è¶³çš„æˆ‘ä»¬çš„ä¹Ÿè®¸åŠŸèƒ½ã€‚ä½†éšç€è€æ¿å¯¹ä¸šåŠ¡çš„å¿«é€Ÿå‘å±•è¦æ±‚ï¼Œä¼šæä¾›å¾ˆå¤šçš„å¥—é¤é’ˆå¯¹ä¸åŒçš„æˆ·å‹ã€‚é‚£ä¹ˆè¿™æ®µå®ç°ä»£ç å°†è¿…é€Ÿæ‰©å¢åˆ°å‡ åƒè¡Œï¼Œç”šè‡³åœ¨ä¿®ä¿®æ”¹æ”¹ä¸­ï¼Œå·²ç»åƒè†è¯ä¸€æ ·éš¾ä»¥ç»´æŠ¤ã€‚

## å…­ã€å»ºé€ è€…æ¨¡å¼é‡æ„ä»£ç 

`æ¥ä¸‹æ¥ä½¿ç”¨å»ºé€ è€…æ¨¡å¼æ¥è¿›è¡Œä»£ç ä¼˜åŒ–ï¼Œä¹Ÿç®—æ˜¯ä¸€æ¬¡å¾ˆå°çš„é‡æ„ã€‚`

å»ºé€ è€…æ¨¡å¼ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™é¢ä¸´ç€"ä¸€ä¸ªå¤æ‚å¯¹è±¡"çš„åˆ›å»ºå·¥ä½œï¼Œå…¶é€šå¸¸ç”±å„ä¸ªéƒ¨åˆ†çš„å­å¯¹è±¡ç”¨ä¸€å®šçš„è¿‡ç¨‹æ„æˆï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™ä¸ªå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†ç»å¸¸é¢ä¸´ç€é‡å¤§çš„å˜åŒ–ï¼Œä½†æ˜¯å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„è¿‡ç¨‹å´ç›¸å¯¹ç¨³å®šã€‚

è¿™é‡Œæˆ‘ä»¬ä¼šæŠŠæ„å»ºçš„è¿‡ç¨‹äº¤ç»™`åˆ›å»ºè€…`ç±»ï¼Œè€Œåˆ›å»ºè€…é€šè¿‡ä½¿ç”¨æˆ‘ä»¬çš„`æ„å»ºå·¥å…·åŒ…`ï¼Œå»æ„å»ºå‡ºä¸åŒçš„`è£…ä¿®å¥—é¤`ã€‚

### 1. å·¥ç¨‹ç»“æ„

```java
itstack-demo-design-3-02
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚       â””â”€â”€ org.itstack.demo.design
    â”‚           â”œâ”€â”€ Builder.java    
    â”‚           â”œâ”€â”€ DecorationPackageMenu.java
    â”‚           â””â”€â”€ IMenu.java 
    â””â”€â”€ test
         â””â”€â”€ java
             â””â”€â”€ org.itstack.demo.design.test
                 â””â”€â”€ ApiTest.java
```

**å»ºé€ è€…æ¨¡å‹ç»“æ„**

![å»ºé€ è€…æ¨¡å‹ç»“æ„](https://bugstack.cn/assets/images/2020/itstack-demo-design-3-03.png)

å·¥ç¨‹ä¸­æœ‰ä¸‰ä¸ªæ ¸å¿ƒç±»å’Œä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæ ¸å¿ƒç±»æ˜¯å»ºé€ è€…æ¨¡å¼çš„å…·ä½“å®ç°ã€‚ä¸`ifelse`å®ç°æ–¹å¼ç›¸æ¯”ï¼Œå¤šå‡ºæ¥äº†ä¸¤ä¸ªäºŒå¤–çš„ç±»ã€‚å…·ä½“åŠŸèƒ½å¦‚ä¸‹ï¼›
- `Builder`ï¼Œå»ºé€ è€…ç±»å…·ä½“çš„å„ç§ç»„è£…ç”±æ­¤ç±»å®ç°ã€‚
- `DecorationPackageMenu`ï¼Œæ˜¯`IMenu`æ¥å£çš„å®ç°ç±»ï¼Œä¸»è¦æ˜¯æ‰¿è½½å»ºé€ è¿‡ç¨‹ä¸­çš„å¡«å……å™¨ã€‚ç›¸å½“äºè¿™æ˜¯ä¸€å¥—æ‰¿è½½ç‰©æ–™å’Œåˆ›å»ºè€…ä¸­é—´è¡”æ¥çš„å†…å®¹ã€‚

**å¥½**ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ä¼šåˆ†åˆ«è®²è§£å‡ ä¸ªç±»çš„å…·ä½“å®ç°ã€‚

### 2. ä»£ç å®ç°

#### 2.1 å®šä¹‰è£…ä¿®åŒ…æ¥å£

```java
public interface IMenu {

    IMenu appendCeiling(Matter matter); // åŠé¡¶

    IMenu appendCoat(Matter matter);    // æ¶‚æ–™

    IMenu appendFloor(Matter matter);   // åœ°æ¿

    IMenu appendTile(Matter matter);    // åœ°ç –

    String getDetail();                 // æ˜ç»† 

}
```

- æ¥å£ç±»ä¸­å®šä¹‰äº†å¡«å……å„é¡¹ç‰©æ–™çš„æ–¹æ³•ï¼›`åŠé¡¶`ã€`æ¶‚æ–™`ã€`åœ°æ¿`ã€`åœ°ç –`ï¼Œä»¥åŠæœ€ç»ˆæä¾›è·å–å…¨éƒ¨æ˜ç»†çš„æ–¹æ³•ã€‚

#### 2.2 è£…ä¿®åŒ…å®ç°

```java
public class DecorationPackageMenu implements IMenu {

    private List<Matter> list = new ArrayList<Matter>();  // è£…ä¿®æ¸…å•
    private BigDecimal price = BigDecimal.ZERO;      // è£…ä¿®ä»·æ ¼

    private BigDecimal area;  // é¢ç§¯
    private String grade;     // è£…ä¿®ç­‰çº§ï¼›è±ªåæ¬§å¼ã€è½»å¥¢ç”°å›­ã€ç°ä»£ç®€çº¦

    private DecorationPackageMenu() {
    }

    public DecorationPackageMenu(Double area, String grade) {
        this.area = new BigDecimal(area);
        this.grade = grade;
    }

    public IMenu appendCeiling(Matter matter) {
        list.add(matter);
        price = price.add(area.multiply(new BigDecimal("0.2")).multiply(matter.price()));
        return this;
    }

    public IMenu appendCoat(Matter matter) {
        list.add(matter);
        price = price.add(area.multiply(new BigDecimal("1.4")).multiply(matter.price()));
        return this;
    }

    public IMenu appendFloor(Matter matter) {
        list.add(matter);
        price = price.add(area.multiply(matter.price()));
        return this;
    }

    public IMenu appendTile(Matter matter) {
        list.add(matter);
        price = price.add(area.multiply(matter.price()));
        return this;
    }

    public String getDetail() {

        StringBuilder detail = new StringBuilder("\r\n-------------------------------------------------------\r\n" +
                "è£…ä¿®æ¸…å•" + "\r\n" +
                "å¥—é¤ç­‰çº§ï¼š" + grade + "\r\n" +
                "å¥—é¤ä»·æ ¼ï¼š" + price.setScale(2, BigDecimal.ROUND_HALF_UP) + " å…ƒ\r\n" +
                "æˆ¿å±‹é¢ç§¯ï¼š" + area.doubleValue() + " å¹³ç±³\r\n" +
                "ææ–™æ¸…å•ï¼š\r\n");

        for (Matter matter: list) {
            detail.append(matter.scene()).append("ï¼š").append(matter.brand()).append("ã€").append(matter.model()).append("ã€å¹³ç±³ä»·æ ¼ï¼š").append(matter.price()).append(" å…ƒã€‚\n");
        }

        return detail.toString();
    }

}
```

- è£…ä¿®åŒ…çš„å®ç°ä¸­æ¯ä¸€ä¸ªæ–¹æ³•éƒ½ä¼šäº† `this`ï¼Œä¹Ÿå°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç”¨äºè¿ç»­å¡«å……å„é¡¹ç‰©æ–™ã€‚
- åŒæ—¶åœ¨å¡«å……æ—¶ä¹Ÿä¼šæ ¹æ®ç‰©æ–™è®¡ç®—å¹³ç±³æ•°ä¸‹çš„æŠ¥ä»·ï¼ŒåŠé¡¶å’Œæ¶‚æ–™æŒ‰ç…§å¹³ç±³æ•°é€‚é‡ä¹˜ä»¥å¸¸ç†Ÿè®¡ç®—ã€‚
- æœ€ååŒæ ·æä¾›äº†ç»Ÿä¸€çš„è·å–è£…ä¿®æ¸…å•çš„æ˜ç»†æ–¹æ³•ã€‚

#### 2.3 å»ºé€ è€…æ–¹æ³•

```java
public class Builder {

    public IMenu levelOne(Double area) {
        return new DecorationPackageMenu(area, "è±ªåæ¬§å¼")
                .appendCeiling(new LevelTwoCeiling())    // åŠé¡¶ï¼ŒäºŒçº§é¡¶
                .appendCoat(new DuluxCoat())             // æ¶‚æ–™ï¼Œå¤šä¹å£«
                .appendFloor(new ShengXiangFloor());     // åœ°æ¿ï¼Œåœ£è±¡
    }

    public IMenu levelTwo(Double area){
        return new DecorationPackageMenu(area, "è½»å¥¢ç”°å›­")
                .appendCeiling(new LevelTwoCeiling())   // åŠé¡¶ï¼ŒäºŒçº§é¡¶
                .appendCoat(new LiBangCoat())           // æ¶‚æ–™ï¼Œç«‹é‚¦
                .appendTile(new MarcoPoloTile());       // åœ°ç –ï¼Œé©¬å¯æ³¢ç½—
    }

    public IMenu levelThree(Double area){
        return new DecorationPackageMenu(area, "ç°ä»£ç®€çº¦")
                .appendCeiling(new LevelOneCeiling())   // åŠé¡¶ï¼ŒäºŒçº§é¡¶
                .appendCoat(new LiBangCoat())           // æ¶‚æ–™ï¼Œç«‹é‚¦
                .appendTile(new DongPengTile());        // åœ°ç –ï¼Œä¸œé¹
    }

}
```

- å»ºé€ è€…çš„ä½¿ç”¨ä¸­å°±å·²ç»éå¸¸å®¹æ˜“äº†ï¼Œç»Ÿä¸€çš„å»ºé€ æ–¹å¼ï¼Œé€šè¿‡ä¸åŒç‰©æ–™å¡«å……å‡ºä¸åŒçš„è£…ä¿®é£æ ¼ï¼›`è±ªåæ¬§å¼`ã€`è½»å¥¢ç”°å›­`ã€`ç°ä»£ç®€çº¦`ï¼Œå¦‚æœå°†æ¥ä¸šåŠ¡æ‰©å±•ä¹Ÿå¯ä»¥å°†è¿™éƒ¨åˆ†å†…å®¹é…ç½®åˆ°æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆã€‚ä½†æ•´ä½“çš„æ€æƒ³è¿˜å¯ä»¥ä½¿ç”¨åˆ›å»ºè€…æ¨¡å¼è¿›è¡Œæ­å»ºã€‚

### 3. æµ‹è¯•éªŒè¯

**ç¼–å†™æµ‹è¯•ç±»ï¼š**

```java
@Test
public void test_Builder(){
    Builder builder = new Builder();
    // è±ªåæ¬§å¼
    System.out.println(builder.levelOne(132.52D).getDetail());
    // è½»å¥¢ç”°å›­
    System.out.println(builder.levelTwo(98.25D).getDetail());
    // ç°ä»£ç®€çº¦
    System.out.println(builder.levelThree(85.43D).getDetail());
}
```

**ç»“æœï¼š**

```java 
-------------------------------------------------------
è£…ä¿®æ¸…å•
å¥—é¤ç­‰çº§ï¼šè±ªåæ¬§å¼
å¥—é¤ä»·æ ¼ï¼š198064.39 å…ƒ
æˆ¿å±‹é¢ç§¯ï¼š132.52 å¹³ç±³
ææ–™æ¸…å•ï¼š
åŠé¡¶ï¼šè£…ä¿®å…¬å¸è‡ªå¸¦ã€äºŒçº§é¡¶ã€å¹³ç±³ä»·æ ¼ï¼š850 å…ƒã€‚
æ¶‚æ–™ï¼šå¤šä¹å£«(Dulux)ã€ç¬¬äºŒä»£ã€å¹³ç±³ä»·æ ¼ï¼š719 å…ƒã€‚
åœ°æ¿ï¼šåœ£è±¡ã€ä¸€çº§ã€å¹³ç±³ä»·æ ¼ï¼š318 å…ƒã€‚


-------------------------------------------------------
è£…ä¿®æ¸…å•
å¥—é¤ç­‰çº§ï¼šè½»å¥¢ç”°å›­
å¥—é¤ä»·æ ¼ï¼š119865.00 å…ƒ
æˆ¿å±‹é¢ç§¯ï¼š98.25 å¹³ç±³
ææ–™æ¸…å•ï¼š
åŠé¡¶ï¼šè£…ä¿®å…¬å¸è‡ªå¸¦ã€äºŒçº§é¡¶ã€å¹³ç±³ä»·æ ¼ï¼š850 å…ƒã€‚
æ¶‚æ–™ï¼šç«‹é‚¦ã€é»˜è®¤çº§åˆ«ã€å¹³ç±³ä»·æ ¼ï¼š650 å…ƒã€‚
åœ°ç –ï¼šé©¬å¯æ³¢ç½—(MARCO POLO)ã€ç¼ºçœã€å¹³ç±³ä»·æ ¼ï¼š140 å…ƒã€‚


-------------------------------------------------------
è£…ä¿®æ¸…å•
å¥—é¤ç­‰çº§ï¼šç°ä»£ç®€çº¦
å¥—é¤ä»·æ ¼ï¼š90897.52 å…ƒ
æˆ¿å±‹é¢ç§¯ï¼š85.43 å¹³ç±³
ææ–™æ¸…å•ï¼š
åŠé¡¶ï¼šè£…ä¿®å…¬å¸è‡ªå¸¦ã€ä¸€çº§é¡¶ã€å¹³ç±³ä»·æ ¼ï¼š260 å…ƒã€‚
æ¶‚æ–™ï¼šç«‹é‚¦ã€é»˜è®¤çº§åˆ«ã€å¹³ç±³ä»·æ ¼ï¼š650 å…ƒã€‚
åœ°ç –ï¼šä¸œé¹ç“·ç –ã€10001ã€å¹³ç±³ä»·æ ¼ï¼š102 å…ƒã€‚
       

Process finished with exit code 0
```

- æµ‹è¯•ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œè°ƒç”¨æ–¹å¼ä¹ŸåŸºæœ¬ç±»ä¼¼ã€‚ä½†æ˜¯ç›®å‰çš„ä»£ç ç»“æ„å´å¯ä»¥è®©ä½ å¾ˆæ–¹ä¾¿çš„å¾ˆæœ‰è°ƒç†çš„è¿›è¡Œæ‰©å±•ä¸šåŠ¡å¼€å‘ã€‚è€Œä¸æ˜¯ä»¥å¾€ä¸€æ ·æŠŠæ‰€æœ‰ä»£ç éƒ½å†™åˆ°`ifelse`é‡Œé¢ã€‚

## ä¸ƒã€æ€»ç»“

- é€šè¿‡ä¸Šé¢å¯¹å»ºé€ è€…æ¨¡å¼çš„ä½¿ç”¨ï¼Œå·²ç»å¯ä»¥æ‘¸ç´¢å‡ºä¸€ç‚¹å¿ƒå¾—ã€‚é‚£å°±æ˜¯ä»€ä¹ˆæ—¶å€™ä¼šé€‰æ‹©è¿™æ ·çš„è®¾è®¡æ¨¡å¼ï¼Œå½“ï¼š`ä¸€äº›åŸºæœ¬ç‰©æ–™ä¸ä¼šå˜ï¼Œè€Œå…¶ç»„åˆç»å¸¸å˜åŒ–çš„æ—¶å€™`ï¼Œå°±å¯ä»¥é€‰æ‹©è¿™æ ·çš„è®¾è®¡æ¨¡å¼æ¥æ„å»ºä»£ç ã€‚
- æ­¤è®¾è®¡æ¨¡å¼æ»¡è¶³äº†å•ä¸€èŒè´£åŸåˆ™ä»¥åŠå¯å¤ç”¨çš„æŠ€æœ¯ã€å»ºé€ è€…ç‹¬ç«‹ã€æ˜“æ‰©å±•ã€ä¾¿äºæ§åˆ¶ç»†èŠ‚é£é™©ã€‚ä½†åŒæ—¶å½“å‡ºç°ç‰¹åˆ«å¤šçš„ç‰©æ–™ä»¥åŠå¾ˆå¤šçš„ç»„åˆåï¼Œç±»çš„ä¸æ–­æ‰©å±•ä¹Ÿä¼šé€ æˆéš¾ä»¥ç»´æŠ¤çš„é—®é¢˜ã€‚ä½†è¿™ç§è®¾è®¡ç»“æ„æ¨¡å‹å¯ä»¥æŠŠé‡å¤çš„å†…å®¹æŠ½è±¡åˆ°æ•°æ®åº“ä¸­ï¼ŒæŒ‰ç…§éœ€è¦é…ç½®ã€‚è¿™æ ·å°±å¯ä»¥å‡å°‘ä»£ç ä¸­å¤§é‡çš„é‡å¤ã€‚
- è®¾è®¡æ¨¡å¼èƒ½å¸¦ç»™ä½ çš„æ˜¯ä¸€äº›æ€æƒ³ï¼Œä½†åœ¨å¹³æ—¶çš„å¼€å‘ä¸­æ€ä¹ˆæ ·æ¸…æ™°çš„æç‚¼å‡ºç¬¦åˆæ­¤æ€è·¯çš„å»ºé€ æ¨¡å—ï¼Œæ˜¯æ¯”è¾ƒéš¾çš„ã€‚éœ€è¦ç»è¿‡ä¸€äº›é”»ç‚¼å’Œä¸æ–­æ‰¿æ¥æ›´å¤šçš„é¡¹ç›®ï¼Œä»è€Œè·å¾—è¿™éƒ¨åˆ†ç»éªŒã€‚æœ‰çš„æ—¶å€™ä½ çš„ä»£ç å†™çš„å¥½ï¼Œå¾€å¾€æ˜¯å€’é€¼çš„ï¼Œå¤æ‚çš„ä¸šåŠ¡é¢‘ç¹çš„å˜åŒ–ï¼Œä¸æ–­çš„æŒ‘æˆ˜ï¼
 


