---
title: 第10章：网关注册中心库表结构设计
pay: https://t.zsxq.com/0cwKE9Lgh
---

# 《API网关》第10章：网关注册中心库表结构设计

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)

>沉淀、分享、成长，让自己和他人都能有所收获！😄

- **本章难度**：★★★☆☆
- **本章重点**：设计网关注册中心的库表结构，满足后续的功能模块实现。
- **课程视频**：[https://t.zsxq.com/07a4f1qNc](https://t.zsxq.com/07a4f1qNc)

## 一、学习指引

`看库表结构就能看出代码好坏！`

看一个系统开发的好坏，第一眼先去看这个系统的库表设计，如果库表设计的很好，那么基本代码逻辑不会差哪去。**如果差，肯定设计库表的人与编写代码的人不是一个人！**

这是为啥呢？因为库表的设计，其实就是数据结构的设计，所有的算法逻辑支撑都来自于数据结构的合理搭建。如果库表不清晰，那么所承接实现出来的代码也会非常别扭。要这个数据不好拿，要那个数据不好取，流程间耦合，服务间牵连。所以才说好的代码实现，要做好库表设计。

## 二、库表诉求

网关注册中心，是一个多边服务，管理的是RPC服务向网关通信层的关联注册。

这就像美团外面平台，一手管理着商家、一手服务着用户。让用户的订单又商家生产，再配送给用户。而我们的网关注册中心也是这样，一手管理着通信，一手管理着服务。让RPC注册到通信层，在用户调用HTTP接口时，可以把协议转换后调用到对应的RPC服务上。

<div align="center">
    <img src="https://bugstack.cn/images/article/assembly/api-gateway/api-gateway-10-01.png?raw=true" width="600px">
</div>

基于以上这样的情况，所以我们要在注册中心维护；网关通信表、RPC服务表、以及两个表的关联表。
