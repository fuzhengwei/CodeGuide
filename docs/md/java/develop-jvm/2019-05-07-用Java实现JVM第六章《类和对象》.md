---
layout: post
category: itstack-demo-jvm
title: ç”¨Javaå®ç°JVMç¬¬å…­ç« ã€Šç±»å’Œå¯¹è±¡ã€‹
tagline: by ä»˜æ”¿å§”
tag: [jvm,itstack-demo-jvm]
---

# ç”¨Javaå®ç°JVMç¬¬å…­ç« ã€Šç±»å’Œå¯¹è±¡ã€‹

ä½œè€…ï¼šå°å‚…å“¥
<br/>åšå®¢ï¼š[https://bugstack.cn](https://bugstack.cn)

> æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„

## æ¡ˆä¾‹ä»‹ç»
æœ¬æ¡ˆä¾‹é€šè¿‡javaä»£ç å®ç°jvmè§„èŒƒä¸­æŒ‡ä»¤é›†å’Œè§£é‡Šå™¨ï¼Œå®Œæˆåå°±å¯ä»¥å¼€å§‹æ‰§è¡Œ1åˆ°100çš„åŠ å’Œè®¡ç®—ã€‚

>Javaè™šæ‹Ÿæœºé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€å°è™šæ‹Ÿçš„æœºå™¨ï¼Œè€Œå­—èŠ‚ç ï¼ˆbytecodeï¼‰å°±æ˜¯è¿è¡Œåœ¨è¿™å°è™šæ‹Ÿæœºå™¨ä¸Šçš„æœºå™¨ç ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œæ¯ä¸€ä¸ªç±»æˆ–è€…æ¥å£éƒ½ä¼šè¢«Javaç¼–è¯‘å™¨ç¼–è¯‘æˆä¸€ä¸ªclassæ–‡ä»¶ï¼Œç±»æˆ–æ¥å£çš„æ–¹æ³•ä¿¡æ¯å°±æ”¾åœ¨classæ–‡ä»¶çš„method_infoç»“æ„ä¸­ã€‚å¦‚æœæ–¹æ³•ä¸æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿä¸æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œæ–¹æ³•çš„Javaä»£ç å°±ä¼šè¢«ç¼–è¯‘å™¨ç¼–è¯‘æˆå­—èŠ‚ç ï¼ˆå³ä½¿æ–¹æ³•æ˜¯ç©ºçš„ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šç”Ÿæˆä¸€æ¡returnè¯­å¥ï¼‰ï¼Œå­˜åœ¨method_infoç»“æ„çš„Codeå±æ€§ä¸­ã€‚

## ç¯å¢ƒå‡†å¤‡
1. jdk 1.8.0
2. IntelliJ IDEA Community Edition 2018.3.1 x64

## é…ç½®ä¿¡æ¯
1. è°ƒè¯•é…ç½®
    1. é…ç½®ä½ç½®ï¼šRun/Debug Configurations -> program arguments
    2. é…ç½®å†…å®¹ï¼š-Xjre "C:\Program Files\Java\jdk1.8.0_161\jre" E:\itstack\git\istack-demo\itstack-demo-jvm\itstack-demo-jvm-06\target\test-classes\org\itstack\demo\test\HelloWorld

## ä»£ç ç¤ºä¾‹
```java
itstack-demo-jvm-06
â”œâ”€â”€ pom.xml
â””â”€â”€ src
    â””â”€â”€ main
    â”‚    â””â”€â”€ java
    â”‚        â””â”€â”€ org.itstack.demo.jvm
	â”‚             â”œâ”€â”€ classfile
    â”‚             â”‚   â”œâ”€â”€ attributes   {BootstrapMethods/Code/ConstantValue...}
    â”‚             â”‚   â”œâ”€â”€ constantpool {CONSTANT_TAG_CLASS/CONSTANT_TAG_FIELDREF/CONSTANT_TAG_METHODREF...}
    â”‚             â”‚   â”œâ”€â”€ ClassFile.java
    â”‚             â”‚   â”œâ”€â”€ ClassReader.java
    â”‚             â”‚   â””â”€â”€ MemberInfo.java	
    â”‚             â”œâ”€â”€ classpath
    â”‚             â”‚   â”œâ”€â”€ impl
    â”‚             â”‚   â”‚   â”œâ”€â”€ CompositeEntry.java
    â”‚             â”‚   â”‚   â”œâ”€â”€ DirEntry.java 
    â”‚             â”‚   â”‚   â”œâ”€â”€ WildcardEntry.java 
    â”‚             â”‚   â”‚   â””â”€â”€ ZipEntry.java    
    â”‚             â”‚   â”œâ”€â”€ Classpath.java
    â”‚             â”‚   â””â”€â”€ Entry.java   
    â”‚             â”œâ”€â”€ classpath
    â”‚             â”‚   â”œâ”€â”€ base
    â”‚             â”‚   â”œâ”€â”€ comparisons
    â”‚             â”‚   â”œâ”€â”€ constants
    â”‚             â”‚   â”œâ”€â”€ control
    â”‚             â”‚   â”œâ”€â”€ conversions
    â”‚             â”‚   â”œâ”€â”€ extended
    â”‚             â”‚   â”œâ”€â”€ loads
    â”‚             â”‚   â”œâ”€â”€ math
    â”‚             â”‚   â”‚   â”œâ”€â”€ add
    â”‚             â”‚   â”‚   â”œâ”€â”€ and
    â”‚             â”‚   â”‚   â”œâ”€â”€ div
    â”‚             â”‚   â”‚   â”œâ”€â”€ iinc
    â”‚             â”‚   â”‚   â”œâ”€â”€ mul
    â”‚             â”‚   â”‚   â”œâ”€â”€ neg
    â”‚             â”‚   â”‚   â”œâ”€â”€ or
    â”‚             â”‚   â”‚   â”œâ”€â”€ rem
    â”‚             â”‚   â”‚   â”œâ”€â”€ sh
    â”‚             â”‚   â”‚   â”œâ”€â”€ sub
    â”‚             â”‚   â”‚   â””â”€â”€ xor
    â”‚             â”‚   â”œâ”€â”€ stack
    â”‚             â”‚   â”œâ”€â”€ store
    â”‚             â”‚   â””â”€â”€ Factory	
    â”‚             â”œâ”€â”€ rtda
    â”‚             â”‚   â”œâ”€â”€ heap
    â”‚             â”‚   â”‚   â”œâ”€â”€ constantpool
    â”‚             â”‚   â”‚   â”œâ”€â”€ methodarea
    â”‚             â”‚   â”‚   â”‚   â”œâ”€â”€ Class.java 	
    â”‚             â”‚   â”‚   â”‚   â”œâ”€â”€ ClassMember.java	
    â”‚             â”‚   â”‚   â”‚   â”œâ”€â”€ Field.java	
    â”‚             â”‚   â”‚   â”‚   â”œâ”€â”€ Method.java	
    â”‚             â”‚   â”‚   â”‚   â”œâ”€â”€ Object.java	
    â”‚             â”‚   â”‚   â”‚   â””â”€â”€ Slots.java		
    â”‚             â”‚   â”‚   â””â”€â”€ ClassLoader.java	
    â”‚             â”‚   â”œâ”€â”€ Frame.java
    â”‚             â”‚   â”œâ”€â”€ JvmStack.java
    â”‚             â”‚   â”œâ”€â”€ LocalVars.java
    â”‚             â”‚   â”œâ”€â”€ OperandStack.java
    â”‚             â”‚   â”œâ”€â”€ Slot.java	
    â”‚             â”‚   â””â”€â”€ Thread.java
    â”‚             â”œâ”€â”€ Cmd.java
    â”‚             â”œâ”€â”€ Interpret.java	
    â”‚             â””â”€â”€ Main.java
    â””â”€â”€ test
         â””â”€â”€ java
             â””â”€â”€ org.itstack.demo.test
                 â””â”€â”€ HelloWorld.java
```

>Class.java

```java
public class Class {

    public int accessFlags;
    public String name;
    public String superClassName;
    public String[] interfaceNames;
    public RunTimeConstantPool runTimeConstantPool;
    public Field[] fields;
    public Method[] methods;
    public ClassLoader loader;
    public Class superClass;
    public Class[] interfaces;
    public int instanceSlotCount;
    public int staticSlotCount;
    public Slots staticVars;

    public Class(ClassFile classFile) {
        this.accessFlags = classFile.accessFlags();
        this.name = classFile.className();
        this.superClassName = classFile.superClassName();
        this.interfaceNames = classFile.interfaceNames();
        this.runTimeConstantPool = new RunTimeConstantPool(this, classFile.constantPool());
        this.fields = new Field().newFields(this, classFile.fields());
        this.methods = new Method().newMethods(this, classFile.methods());
    }

    public boolean isPublic() {
        return 0 != (this.accessFlags & AccessFlags.ACC_PUBLIC);
    }

    public boolean isFinal() {
        return 0 != (this.accessFlags & AccessFlags.ACC_FINAL);
    }

    public boolean isSuper() {
        return 0 != (this.accessFlags & AccessFlags.ACC_SUPER);
    }

    public boolean isInterface() {
        return 0 != (this.accessFlags & AccessFlags.ACC_INTERFACE);
    }

    public boolean isAbstract() {
        return 0 != (this.accessFlags & AccessFlags.ACC_ABSTRACT);
    }

    public boolean isSynthetic() {
        return 0 != (this.accessFlags & AccessFlags.ACC_SYNTHETIC);
    }

    public boolean isAnnotation() {
        return 0 != (this.accessFlags & AccessFlags.ACC_ANNOTATION);
    }

    public boolean isEnum() {
        return 0 != (this.accessFlags & AccessFlags.ACC_ENUM);
    }

    public RunTimeConstantPool constantPool() {
        return this.runTimeConstantPool;
    }

    public Slots staticVars() {
        return this.staticVars;
    }

    public boolean isAccessibleTo(Class other) {
        return this.isPublic() || this.getPackageName().equals(other.getPackageName());
    }

    public String getPackageName() {
        int i = this.name.lastIndexOf("/");
        if (i >= 0) return this.name;
        return "";
    }

    public Method getMainMethod() {
        return this.getStaticMethod("main", "([Ljava/lang/String;)V");
    }

    private Method getStaticMethod(String name, String descriptor) {
        for (Method method : this.methods) {
            if (method.name.equals(name) && method.descriptor.equals(descriptor)) {
                return method;
            }
        }
        return null;
    }

    public Object newObject() {
        return new Object(this);
    }

    public boolean isAssignableFrom(Class other) {
        if (this == other) return true;
        if (!other.isInterface()) {
            return this.isSubClassOf(other);
        } else {
            return this.isImplements(other);
        }
    }

    public boolean isSubClassOf(Class other) {
        for (Class c = this.superClass; c != null; c = c.superClass) {
            if (c == other) {
                return true;
            }
        }
        return false;
    }

    private boolean isImplements(Class other) {

        for (Class c = this; c != null; c = c.superClass) {
            for (Class clazz : c.interfaces) {
                if (clazz == other || clazz.isSubInterfaceOf(other)) {
                    return true;
                }
            }
        }
        return false;

    }

    public boolean isSubInterfaceOf(Class iface) {
        for (Class superInterface : this.interfaces) {
            if (superInterface == iface || superInterface.isSubInterfaceOf(iface)) {
                return true;
            }
        }
        return false;
    }

}
```

>ClassMember.java

```java
public class ClassMember {

    public int accessFlags;
    public String name;
    public String descriptor;
    public Class clazz;

    public void copyMemberInfo(MemberInfo memberInfo) {
        this.accessFlags = memberInfo.accessFlags();
        this.name = memberInfo.name();
        this.descriptor = memberInfo.descriptor();
    }

    public boolean isPublic() {
        return 0 != (this.accessFlags & AccessFlags.ACC_PUBLIC);
    }

    public boolean isPrivate() {
        return 0 != (this.accessFlags & AccessFlags.ACC_PRIVATE);
    }

    public boolean isProtected() {
        return 0 != (this.accessFlags & AccessFlags.ACC_PROTECTED);
    }

    public boolean isStatic() {
        return 0 != (this.accessFlags & AccessFlags.ACC_STATIC);
    }

    public boolean isFinal() {
        return 0 != (this.accessFlags & AccessFlags.ACC_FINAL);
    }

    public boolean isSynthetic() {
        return 0 != (this.accessFlags & AccessFlags.ACC_SYNTHETIC);
    }

    public String name() {
        return this.name;
    }

    public String descriptor() {
        return this.descriptor;
    }

    public Class clazz() {
        return this.clazz;
    }

    public boolean isAccessibleTo(Class d) {
        if (this.isPublic()) {
            return true;
        }
        Class c = this.clazz;
        if (this.isProtected()) {
            return d == c || c.getPackageName().equals(d.getPackageName());
        }
        if (!this.isPrivate()) {
            return c.getPackageName().equals(d.getPackageName());
        }
        return d == c;
    }

}
```

>Field.java

```java
package org.itstack.demo.jvm.rtda.heap.methodarea;

import org.itstack.demo.jvm.classfile.MemberInfo;
import org.itstack.demo.jvm.classfile.attributes.impl.ConstantValueAttribute;
import org.itstack.demo.jvm.rtda.heap.constantpool.AccessFlags;

public class Field extends ClassMember {

    public int constValueIndex;
    public int slotId;

    public Field[] newFields(Class clazz, MemberInfo[] cfFields) {
        Field[] fields = new Field[cfFields.length];
        for (int i = 0; i < cfFields.length; i++) {
            fields[i] = new Field();
            fields[i].clazz = clazz;
            fields[i].copyMemberInfo(cfFields[i]);
            fields[i].copyAttributes(cfFields[i]);
        }
        return fields;
    }

    public void copyAttributes(MemberInfo cfField) {
        ConstantValueAttribute valAttr = cfField.ConstantValueAttribute();
        if (null != valAttr) {
            this.constValueIndex = valAttr.constantValueIdx();
        }
    }

    public boolean isVolatile() {
        return 0 != (this.accessFlags & AccessFlags.ACC_VOLATILE);
    }

    public boolean isTransient() {
        return 0 != (this.accessFlags & AccessFlags.ACC_TRANSIENT);
    }

    public boolean isEnum() {
        return 0 != (this.accessFlags & AccessFlags.ACC_ENUM);
    }

    public int constValueIndex() {
        return this.constValueIndex;
    }

    public int slotId() {
        return this.slotId;
    }

    public boolean isLongOrDouble() {
        return this.descriptor.equals("J") || this.descriptor.equals("D");
    }


}
```

>Method.java

```java
package org.itstack.demo.jvm.rtda.heap.methodarea;

import org.itstack.demo.jvm.classfile.MemberInfo;
import org.itstack.demo.jvm.classfile.attributes.impl.CodeAttribute;
import org.itstack.demo.jvm.rtda.heap.constantpool.AccessFlags;

public class Method extends ClassMember {

    public int maxStack;
    public int maxLocals;
    public byte[] code;

    public Method[] newMethods(Class clazz, MemberInfo[] cfMethods) {
        Method[] methods = new Method[cfMethods.length];
        for (int i = 0; i < cfMethods.length; i++) {
            methods[i] = new Method();
            methods[i].clazz = clazz;
            methods[i].copyMemberInfo(cfMethods[i]);
            methods[i].copyAttributes(cfMethods[i]);
        }
        return methods;
    }

    public void copyAttributes(MemberInfo cfMethod) {
        CodeAttribute codeAttr = cfMethod.codeAttribute();
        if (null != codeAttr) {
            this.maxStack = codeAttr.maxStack();
            this.maxLocals = codeAttr.maxLocals();
            this.code = codeAttr.data();
        }
    }

    public boolean isSynchronized() {
        return 0 != (this.accessFlags & AccessFlags.ACC_SYNCHRONIZED);
    }

    public boolean isBridge() {
        return 0 != (this.accessFlags & AccessFlags.ACC_BRIDGE);
    }

    public boolean isVarargs() {
        return 0 != (this.accessFlags & AccessFlags.ACC_VARARGS);
    }

    public boolean isNative() {
        return 0 != (this.accessFlags & AccessFlags.ACC_NATIVE);
    }

    public boolean isAbstract() {
        return 0 != (this.accessFlags & AccessFlags.ACC_ABSTRACT);
    }

    public boolean isStrict() {
        return 0 != (this.accessFlags & AccessFlags.ACC_STRICT);
    }

    public int maxStack() {
        return this.maxStack;
    }

    public int maxLocals() {
        return this.maxLocals;
    }

    public byte[] code() {
        return this.code;
    }

}
```

>Object.java

```java
package org.itstack.demo.jvm.rtda.heap.methodarea;

public class Object {

    Class clazz;
    Slots fields;

    public Object(Class clazz){
        this.clazz = clazz;
        this.fields = new Slots(clazz.instanceSlotCount);
    }

    public Class clazz(){
        return this.clazz;
    }

    public Slots fields(){
        return this.fields;
    }

    public boolean isInstanceOf(Class clazz){
        return clazz.isAssignableFrom(this.clazz);
    }

}
```

>Slots.java

```java
package org.itstack.demo.jvm.rtda.heap.methodarea;

import org.itstack.demo.jvm.rtda.Slot;

public class Slots {

    private Slot[] slots;

    public Slots(int slotCount) {
        if (slotCount > 0) {
            slots = new Slot[slotCount];
            for (int i = 0; i < slotCount; i++) {
                slots[i] = new Slot();
            }
        }
    }

    public void setInt(int idx, int val) {
        this.slots[idx].num = val;
    }

    public int getInt(int idx) {
        return this.slots[idx].num;
    }

    public void setFloat(int idx, float val) {
        this.slots[idx].num = (int) val;
    }

    public float getFloat(int idx) {
        return this.slots[idx].num;
    }

    public void setLong(int idx, long val) {
        this.slots[idx].num = (int) val;
        this.slots[idx + 1].num = (int) (val >> 32);
    }

    public long getLong(int idx) {
        int low = this.slots[idx].num;
        int high = this.slots[idx + 1].num;
        return (long) high << 32 | (long) low;
    }

    public void setDouble(int idx, double val) {
        this.setLong(idx, (long) val);
    }

    public Double getDouble(int idx) {
        return (double) this.getLong(idx);
    }

    public void setRef(int idx, Object ref) {
        this.slots[idx].ref = ref;
    }

    public Object getRef(int idx){
        return this.slots[idx].ref;
    }

}
```

## æµ‹è¯•ç»“æœ {å¯ä»¥çœ‹åˆ°å·²ç»è¾“å‡ºï¼›5050}
```java
"C:\Program Files\Java\jdk1.8.0_161\bin\java.exe" "-javaagent:D:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2018.3.1\lib\idea_rt.jar=61887:D:\Program Files\JetBrains\IntelliJ IDEA Community Edition 2018.3.1\bin" -Dfile.encoding=UTF-8 -classpath "C:\Program Files\Java\jdk1.8.0_161\jre\lib\charsets.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\deploy.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\access-bridge-64.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\cldrdata.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\dnsns.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\jaccess.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\jfxrt.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\localedata.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\nashorn.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\sunec.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\sunjce_provider.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\sunmscapi.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\sunpkcs11.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\ext\zipfs.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\javaws.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\jce.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\jfr.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\jfxswt.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\jsse.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\management-agent.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\plugin.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\resources.jar;C:\Program Files\Java\jdk1.8.0_161\jre\lib\rt.jar;E:\itstack\git\istack-demo\itstack-demo-jvm\itstack-demo-jvm-05\target\classes;D:\Program Files (x86)\apache-maven-2.2.1\repository\com\beust\jcommander\1.72\jcommander-1.72.jar;D:\Program Files (x86)\apache-maven-2.2.1\repository\org\projectlombok\lombok\1.18.0\lombok-1.18.0.jar;D:\Program Files (x86)\apache-maven-2.2.1\repository\com\alibaba\fastjson\1.2.40\fastjson-1.2.40.jar" org.itstack.demo.jvm.Main -Xjre "C:\Program Files\Java\jdk1.8.0_161\jre" E:\itstack\git\istack-demo\itstack-demo-jvm\itstack-demo-jvm-05\target\test-classes\org\itstack\demo\test\HelloWorld
classpath:org.itstack.demo.jvm.classpath.Classpath@4bf558aa class:E:\itstack\git\istack-demo\itstack-demo-jvm\itstack-demo-jvm-05\target\test-classes\org\itstack\demo\test\HelloWorld args:null
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x03 -> ICONST_0 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":0},{"num":0}] æ“ä½œæ•°æ ˆï¼š[{"num":0},{"num":0}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x3c -> ISTORE_1 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":0},{"num":0}] æ“ä½œæ•°æ ˆï¼š[{"num":0},{"num":0}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x04 -> ICONST_1 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":0},{"num":0}] æ“ä½œæ•°æ ˆï¼š[{"num":0},{"num":0}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x3d -> ISTORE_2 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":1},{"num":0}] æ“ä½œæ•°æ ˆï¼š[{"num":1},{"num":0}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x1c -> ILOAD_2 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":1},{"num":0}] æ“ä½œæ•°æ ˆï¼š[{"num":1},{"num":0}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x10 -> BIPUSH => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":1},{"num":0}] æ“ä½œæ•°æ ˆï¼š[{"num":1},{"num":0}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0xa3 -> IF_ICMPGT => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":1},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":1},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x1b -> ILOAD_1 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":1},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":1},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x1c -> ILOAD_2 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":0},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":0},{"num":100}]

... ...

å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x60 -> IADD => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":4950},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":4950},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x3c -> ISTORE_1 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":5050},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":5050},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x84 -> IINC => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":5050},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":5050},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0xa7 -> GOTO => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":5050},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":5050},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x1c -> ILOAD_2 => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":5050},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":5050},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0x10 -> BIPUSH => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":101},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":101},{"num":100}]
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0xa3 -> IF_ICMPGT => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":101},{"num":100}] æ“ä½œæ•°æ ˆï¼š[{"num":101},{"num":100}]
5050
å¯„å­˜å™¨(æŒ‡ä»¤)ï¼š0xb1 -> RETURN => å±€éƒ¨å˜é‡è¡¨ï¼š[{"num":101},{"num":5050}] æ“ä½œæ•°æ ˆï¼š[{"num":101},{"num":5050}]
Exception in thread "main" java.lang.RuntimeException: jvm stack is empty!
	at org.itstack.demo.jvm.rtda.JvmStack.pop(JvmStack.java:33)

```

å¾®ä¿¡æœç´¢ã€Œ**bugstackè™«æ´æ ˆ**ã€å…¬ä¼—å·ï¼Œå…³æ³¨åå›å¤ã€Œ**ç”¨Javaå®ç°jvmæºç **ã€è·å–æœ¬æ–‡æºç &æ›´å¤šåŸåˆ›ä¸“é¢˜æ¡ˆä¾‹ï¼
