---
title: å¹‚é›†
lock: need
---

# ã€Šç¨‹åºå‘˜æ•°å­¦ï¼šå¹‚é›†ã€‹- è¯¥é›†åˆçš„æ‰€æœ‰å­é›†

ä½œè€…ï¼šå°å‚…å“¥
<br/>åšå®¢ï¼š[https://bugstack.cn](https://bugstack.cn)
<br/>æºç ï¼š[https://github.com/fuzhengwei/java-algorithms](https://github.com/fuzhengwei/java-algorithms)

> æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„

## ä¸€ã€å‰è¨€

åœ¨æ•°å­¦ä¸­ï¼Œé›†åˆ S çš„å¹‚é›†ï¼ˆæˆ–å¹‚é›†ï¼‰æ˜¯Sçš„æ‰€æœ‰å­é›†çš„é›†åˆï¼ŒåŒ…æ‹¬ç©ºé›†å’ŒSæœ¬èº«ã€‚åœ¨å…¬ç†åŒ–é›†åˆè®ºä¸­ï¼ˆä¾‹å¦‚ï¼Œåœ¨ZFCå…¬ç†ä¸­å‘å±•èµ·æ¥çš„ï¼‰ï¼Œä»»ä½•é›†åˆçš„å¹‚é›†çš„å­˜åœ¨æ€§éƒ½ç”±å¹‚é›†å…¬ç†å‡è®¾ã€‚S çš„å¹‚é›†è¢«ä¸åŒåœ°è¡¨ç¤ºä¸ºP ( S ) , ğ’«( S ) , P ( S ) , æˆ–2^Sã€‚ä½¿ç”¨ç¬¦å·2^Sè¡¨ç¤ºä» S åˆ°ç»™å®šçš„ä¸¤ä¸ªå…ƒç´ é›†åˆï¼ˆä¾‹å¦‚ï¼Œ{0, 1}ï¼‰çš„æ‰€æœ‰å‡½æ•°çš„é›†åˆï¼Œå› ä¸ºSçš„å¹‚é›†å¯ä»¥ç­‰åŒäºã€ç­‰ä»·äºè¯¥é›†åˆæˆ–ä¸è¯¥é›†åˆåŒå°„ä»Såˆ°ç»™å®šçš„ä¸¤ä¸ªå…ƒç´ é›†çš„æ‰€æœ‰å‡½æ•°ã€‚

## äºŒã€å¹‚é›†å®ä¾‹

å‡å¦‚ä¸€ä¸ªé›†åˆçš„å¹‚é›†`S`æ˜¯ çš„æ‰€æœ‰å­é›†çš„é›†åˆ`S`ï¼ŒåŒ…æ‹¬ç©ºé›†å’Œ`S`å®ƒæœ¬èº«ã€‚é›†åˆçš„å¹‚é›†`S`è¡¨ç¤ºä¸º`P(S)`ã€‚

ä¾‹å¦‚å¯¹äº`{x, y, z}`ï¼Œå­é›†æ˜¯ï¼š

```
{
  {}, // (also denoted empty set âˆ… or the null set)
  {x},
  {y},
  {z},
  {x, y},
  {x, z},
  {y, z},
  {x, y, z}
}
```

ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¦‚ä½•è¯´æ˜`{x, y, z}`å…³äºåŒ…å«æ’åºçš„é›†åˆçš„å¹‚é›†çš„å…ƒç´ ï¼š

<div align="center">
    <img src="https://bugstack.cn/images/article/algorithm/logic/power-set-01.png?raw=true" width="450px">
</div>

**å­é›†æ•°**

å¦‚æœ`S`æ˜¯ä¸€ä¸ªæœ‰å…ƒç´ çš„æœ‰é™é›†`|S| = n`ï¼Œé‚£ä¹ˆ çš„å­é›†æ•°`S`æ˜¯`|P(S)| = 2^n`ã€‚è¿™ä¸ªäº‹å®ï¼Œä¹Ÿå°±æ˜¯ç¬¦å· çš„åŠ¨æœº`2^S`ï¼Œå¯ä»¥ç®€å•åœ°è¯æ˜å¦‚ä¸‹ï¼š

é¦–å…ˆï¼Œä»¥`S`ä»»ä½•æ–¹å¼å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚æˆ‘ä»¬ä»¥where`S`çš„æ ¼å¼ç¼–å†™ çš„ä»»ä½•å­é›†ï¼Œå¯ä»¥å–orçš„å€¼ã€‚å¦‚æœï¼Œåˆ™ç¬¬ - ä¸ªå…ƒç´ åœ¨å­é›†ä¸­ï¼›å¦åˆ™ï¼Œç¬¬- ä¸ªå…ƒç´ ä¸åœ¨å­é›†ä¸­ã€‚æ˜¾ç„¶ï¼Œå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ„å»ºçš„ä¸åŒå­é›†çš„æ•°é‡ä¸ºã€‚`{Î³1, Î³2, ..., Î³n}``Î³i , 1 â‰¤ i â‰¤ n``0``1``Î³i = 1``i``S``i``2^n``Î³i âˆˆ {0, 1}`

## ä¸‰ã€å¯†é›†å®ç°

### 1. æ–¹æ¡ˆ1

```java
public static List<List<Integer>> btPowerSet(int[] originalSet) {
    return btPowerSetRecursive(originalSet, new ArrayList<>(), new ArrayList<>(), 0);
}

private static List<List<Integer>> btPowerSetRecursive(int[] originalSet, List<List<Integer>> allSubsets, List<Integer> currentSubSet, int startAt) {
    for (int position = startAt; position < originalSet.length; position++) {
        currentSubSet.add(originalSet[position]);
        allSubsets.add(new ArrayList<>(currentSubSet));
        btPowerSetRecursive(originalSet, allSubsets, currentSubSet, position + 1);
        currentSubSet.remove(currentSubSet.size() - 1);
    }
    return allSubsets;
}
```

è¿™æ®µä»£ç æ˜¯ä½¿ç”¨é€’å½’çš„æ–¹æ³•æ±‚ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å­é›†ï¼ˆå³å¹‚é›†ï¼‰ã€‚
- originalSetæ˜¯è¦æ±‚å¹‚é›†çš„æ•°ç»„
- allSubsetsæ˜¯å­˜å‚¨æ‰€æœ‰å­é›†çš„ç»“æœé›†åˆ
- currentSubSetæ˜¯æ­£åœ¨ç”Ÿæˆçš„å½“å‰å­é›†
- startAtæ˜¯ä»originalSetçš„å“ªä¸ªä½ç½®å¼€å§‹ç”Ÿæˆå­é›†
å®ƒé€šè¿‡é€’å½’ä¸æ–­åœ°åœ¨å½“å‰å­é›†ä¸Šæ·»åŠ å…ƒç´ ï¼Œæœ€ç»ˆç”Ÿæˆæ‰€æœ‰å­é›†ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨allSubsetsä¸­ã€‚

### 2. æ–¹æ¡ˆ2

```java
public static List<List<Integer>> caPowerSet(int[] originalSet) {
    List<List<Integer>> sets = new ArrayList<>();
    sets.add(new ArrayList<>());
    for (int i : originalSet) {
        int existingSetsNum = sets.size();
        for (int setIdx = 0; setIdx < existingSetsNum; setIdx++) {
            List<Integer> set = new ArrayList<>(sets.get(setIdx));
            set.add(i);
            sets.add(set);
        }
    }
    return sets;
}
```

- è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªç”¨é€’å½’ç®—æ³•å®ç°çš„æ±‚é›†åˆçš„å¹‚é›†çš„Javaå‡½æ•°ã€‚å®ƒå°†ä¸€ä¸ªç»™å®šçš„æ•´æ•°æ•°ç»„ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›æ‰€æœ‰å­é›†çš„åˆ—è¡¨ã€‚
- è¯¥å‡½æ•°ä»¥ä¸€ä¸ªç©ºçš„åˆ—è¡¨å¼€å§‹ï¼Œæ¯æ¬¡éå†è¾“å…¥æ•°ç»„çš„å…ƒç´ å¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°ç°æœ‰çš„æ‰€æœ‰å­é›†ä¸­ï¼Œæœ€ç»ˆè¿”å›æ‰€æœ‰å­é›†çš„åˆ—è¡¨ã€‚

### 3. æ–¹æ¡ˆ3

```java
public static List<List<Integer>> bwPowerSet(int[] originalSet) {
    List<List<Integer>> subSets = new ArrayList<>();
    int numberOfCombinations = (int) Math.pow(2, originalSet.length);
    for (int combinationIndex = 0; combinationIndex < numberOfCombinations; combinationIndex++) {
        List<Integer> subSet = new ArrayList<>();
        for (int setElementIndex = 0; setElementIndex < originalSet.length; setElementIndex++) {
            if ((combinationIndex & (1 << setElementIndex)) != 0) {
                subSet.add(originalSet[setElementIndex]);
            }
        }
        subSets.add(subSet);
    }
    return subSets;
}
```

è¿™æ®µä»£ç æ˜¯ä½¿ç”¨ä½è¿ç®—æ±‚ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å­é›†ï¼ˆå³å¹‚é›†ï¼‰ã€‚originalSetæ˜¯è¦æ±‚å¹‚é›†çš„æ•°ç»„å®ƒé€šè¿‡ä½è¿ç®—ä¸æ–­åœ°å°†ç»„åˆç´¢å¼•å’Œå…ƒç´ ç´¢å¼•è¿›è¡Œæ¯”è¾ƒï¼Œæœ€ç»ˆç”Ÿæˆæ‰€æœ‰å­é›†ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨subSetsä¸­ã€‚

---

- [Power_set](https://en.wikipedia.org/wiki/Power_set)