---
title: 重学 Java 设计模式
lock: no
---

# 重学 Java 设计模式 - 18万字271页的实战编程资料

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)
<br/>星球：[https://t.zsxq.com/0eoDwY8Kd](https://t.zsxq.com/0eoDwY8Kd) - 课程入口

>沉淀、分享、成长，让自己和他人都能有所收获！😄

## 一、前言

**全书共计22个真实业务场景对应59组案例工程、编写了18万字271页的PDF、从5月20日开始耗时50天打造完成。**

<div align="center">
    <img src="https://bugstack.cn/assets/images/illustration/swell.png?raw=true" width="250px">
</div>

💋`鉴于作者水平有限`，如果书中含有不易理解的内容，一定是作者在编写的过程中缺少必要的描述和严格的校准，感谢把你的意见或者疑问提交给我，也欢迎与我多一些交互，互相进步共同成长。

## 二、简介

<div align="center">
    <img src="https://bugstack.cn/assets/images/2020/design/pdflogo.png?raw=true" width="750px">
</div>

欢迎来到这里，很高兴你`将`拿到这本电子书，如果你能坚持看完并按照书中的例子进行实践，那么在编程开发的世界里，就又多了一个可以写出良好代码的人，同时也为架构师培养储备了一个人才。

可能在此之前你也多少了解过设计模式，但在实际的业务开发中使用却不多，多数时候都是大面积堆积`ifelse`组装业务流程，对于一次次的需求迭代和逻辑补充，只能东拼西凑`Ctrl+C`、`Ctrl+V`。

所以为了能让更多的程序员👨‍💻‍更好的接受设计思想和架构思维，并能运用到实际的业务场景。本书的作者`小傅哥`，投入50天时间，从互联网实际业务开发中抽离出，交易、营销、秒杀、中间件、源码等22个真实场景，来学习设计模式实践使用的应用可上手技能。

### 1. 谁发明了设计模式？

设计模式的概念最早是由 `克里斯托佛·亚历山大` 在其著作 `《建筑模式语言》` 中首次提出的。 本书介绍了城市设计的 “语言”，提供了253个描述城镇、邻里、住宅、花园、房间及西部构造的模式， 而此类 “语言” 的基本单元就是模式。后来，`埃里希·伽玛`、 `约翰·弗利赛德斯`、 `拉尔夫·约翰逊` 和 `理查德·赫尔姆` 这四位作者接受了模式的概念。 1994 年， 他们出版了 `《设计模式： 可复用面向对象软件的基础》` 一书， 将设计模式的概念应用到程序开发领域中。 

其实有一部分人并没有仔细阅读过设计模式的相关书籍和资料，但依旧可以编写出优秀的代码。这主要是由于在经过众多项目的锤炼和对程序设计的不断追求，从而在多年编程历程上提炼出来的心得体会。而这份经验最终会与设计模式提到的内容几乎一致，同样会要求高内聚、低耦合、可扩展、可复用。你可能也遇到类似的经历，在学习一些框架的源码时，发现它里的某些设计和你在做开发时一样。

### 2. 我怎么学不会设计模式？

钱也花了，书也买了。代码还是一坨一坨的！设计模式是由多年的经验提炼出来开发指导思想。就像我告诉你自行车怎么骑、汽车怎么开，但只要你没跑过几千公里，你能记住的只是理论，想上道依旧很慌！

**所以**，本设计模式专题系列开始，会带着你使用设计模式的思想去优化代码。从而学习设计模式的心得并融入给自己。当然这里还需要多加练习，一定是*人车合一*，才能站在设计模式的基础上构建出更加合理的代码。

### 3. 适合人群

1. 具备一定编程基础在工作1-3年的研发人员
2. 希望通过此书提升编码思维，剔除到代码中的坏味道
3. 有意愿成为架构师，但还处在一定瓶颈期
4. 学习过设计模式，可是一直想找到一本可以落地真实场景参照的书籍

### 4. 我能学到什么

1. 优化平时开发中的ifelse语句，让代码更加整洁
2. 看设计模式不再是用理论生搬硬套，这次可以有点用
3. 站在更高的角度去看待编程开发，学会更多的面向对象的思维，尤其是；接口、抽象类、多态等使用
4. 升职、加薪，良好的代码是效能提升的基础，成为本组编码最靓的精神小伙

### 5. 阅读建议

本书属于实战型而不是理论介绍类书籍，每一章节都有对应的完整代码，学习的过程需要参考书中的章节与代码一起学习，同时在学习的过程中需要了解并运行代码。学习完成后进行知识点的总结，以及思考🤔这样的设计模式在自己的业务场景中需要如何使用。

## 三、书中目录

设计模式遵循六大原则；单一职责(`一个类和方法只做一件事`)、里氏替换(`多态，子类可扩展父类`)、依赖倒置(`细节依赖抽象，下层依赖上层`)、接口隔离(`建立单一接口`)、迪米特原则(`最少知道，降低耦合`)、开闭原则(`抽象架构，扩展实现`)，会在具体的设计模式章节中，进行体现。

### 1. 创建型模式

**这类模式提供创建对象的机制， 能够提升已有代码的灵活性和可复用性。**

| 序号 | 类型         | 图稿                                                      | 业务场景                                             | 实现要点                                                     |
| ---- | ------------ | --------------------------------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| 1    | **工厂方法** | ![](https://bugstack.cn/assets/images/2020/design/11.png) | 多种类型商品不同接口，统一发奖服务搭建场景           | 定义一个创建对象的接口，让其子类自己决定实例化哪一个工厂类，工厂模式使其创建过程延迟到子类进行。 |
| 2    | **抽象工厂** | ![](https://bugstack.cn/assets/images/2020/design/12.png) | 替换Redis双集群升级，代理类抽象场景                  | 提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。 |
| 3    | **生成器**   | ![](https://bugstack.cn/assets/images/2020/design/13.png) | 各项装修物料组合套餐选配场景                         | 将一个复杂的构建与其表示相分离，使得同样的构建过程可以创建不同的表示。 |
| 4    | **原型**     | ![](https://bugstack.cn/assets/images/2020/design/14.png) | 上机考试多套试，每人题目和答案乱序排列场景           | 用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。 |
| 5    | **单例**     | ![](https://bugstack.cn/assets/images/2020/design/15.png) | 7种单例模式案例，Effective Java 作者推荐枚举单例模式 | 保证一个类仅有一个实例，并提供一个访问它的全局访问点。       |

### 2. 结构型模式

**这类模式介绍如何将对象和类组装成较大的结构， 并同时保持结构的灵活和高效。**

| 序号 | 类型       | 图稿                                                      | 业务场景                                                     | 实现要点                                                     |
| ---- | ---------- | --------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1    | **适配器** | ![](https://bugstack.cn/assets/images/2020/design/21.png) | 从多个MQ消息体中，抽取指定字段值场景                         | 将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。 |
| 2    | **桥接**   | ![](https://bugstack.cn/assets/images/2020/design/22.png) | 多支付渠道(微信、支付宝)与多支付模式(刷脸、指纹)场景         | 将抽象部分与实现部分分离，使它们都可以独立的变化。           |
| 3    | **组合**   | ![](https://bugstack.cn/assets/images/2020/design/23.png) | 营销差异化人群发券，决策树引擎搭建场景                       | 将对象组合成树形结构以表示"部分-整体"的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。 |
| 4    | **装饰**   | ![](https://bugstack.cn/assets/images/2020/design/24.png) | SSO单点登录功能扩展，增加拦截用户访问方法范围场景            | 动态地给一个对象添加一些额外的职责。就增加功能来说，装饰器模式相比生成子类更为灵活。 |
| 5    | **外观**   | ![](https://bugstack.cn/assets/images/2020/design/25.png) | 基于SpringBoot开发门面模式中间件，统一控制接口白名单场景     | 为子系统中的一组接口提供一个一致的界面，外观模式定义了一个高层接口，这个接口使得这一子系统更加容易使用。 |
| 6    | **享元**   | ![](https://bugstack.cn/assets/images/2020/design/26.png) | 基于Redis秒杀，提供活动与库存信息查询场景                    | 运用共享技术有效地支持大量细粒度的对象。                     |
| 7    | **代理**   | ![](https://bugstack.cn/assets/images/2020/design/27.png) | 模拟mybatis-spring中定义DAO接口，使用代理类方式操作数据库原理实现场景 | 为其他对象提供一种代理以控制对这个对象的访问。               |

### 3. 行为模式

**这类模式负责对象间的高效沟通和职责委派。**

| 序号 | 类型         | 图稿                                                       | 业务场景                                                     | 实现要点                                                     |
| ---- | ------------ | ---------------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1    | **责任链**   | ![](https://bugstack.cn/assets/images/2020/design/31.png)  | 模拟618电商大促期间，项目上线流程多级负责人审批场景          | 避免请求发送者与接收者耦合在一起，让多个对象都有可能接收请求，将这些对象连接成一条链，并且沿着这条链传递请求，直到有对象处理它为止。 |
| 2    | **命令**     | ![](https://bugstack.cn/assets/images/2020/design/32.png)  | 模拟高档餐厅八大菜系，小二点单厨师烹饪场景                   | 将一个请求封装成一个对象，从而使您可以用不同的请求对客户进行参数化。 |
| 3    | **迭代器**   | ![](https://bugstack.cn/assets/images/2020/design/33.png)  | 模拟公司组织架构树结构关系，深度迭代遍历人员信息输出场景     | 提供一种方法顺序访问一个聚合对象中各个元素, 而又无须暴露该对象的内部表示。 |
| 4    | **中介者**   | ![](https://bugstack.cn/assets/images/2020/design/34.png)  | 按照Mybatis原理手写ORM框架，给JDBC方式操作数据库增加中介者场景 | 用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。 |
| 5    | **备忘录**   | ![](https://bugstack.cn/assets/images/2020/design/35.png)  | 模拟互联网系统上线过程中，配置文件回滚场景                   | 在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。 |
| 6    | **观察者**   | ![](https://bugstack.cn/assets/images/2020/design/36.png)  | 模拟类似小客车指标摇号过程，监听消息通知用户中签场景         | 定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。 |
| 7    | **状态**     | ![](https://bugstack.cn/assets/images/2020/design/37.png)  | 模拟系统营销活动，状态流程审核发布上线场景                   | 允许对象在内部状态发生改变时改变它的行为，对象看起来好像修改了它的类。 |
| 8    | **策略**     | ![](https://bugstack.cn/assets/images/2020/design/38.png)  | 模拟多种营销类型优惠券，折扣金额计算策略场景                 | 定义一系列的算法,把它们一个个封装起来, 并且使它们可相互替换。 |
| 9    | **模板方法** | ![](https://bugstack.cn/assets/images/2020/design/39.png)  | 模拟爬虫各类电商商品，生成营销推广海报场景                   | 定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。 |
| 10   | **访问者**   | ![](https://bugstack.cn/assets/images/2020/design/310.png) | 模拟家长与校长，对学生和老师的不同视角信息的访问场景         | 主要将数据结构与数据操作分离。                               |

*以上图稿和部分描述参考；[https://refactoringguru.cn](https://refactoringguru.cn)、[https://www.runoob.com/design-pattern/visitor-pattern.html](https://www.runoob.com/design-pattern/visitor-pattern.html)*

## 四、收个尾🎉

👣走过的路会留下足迹，👨‍💻‍码过的文会盛满四季。

有时候真的很感谢自己还能坚持做原创技术输出，即使再忙再累也给自己一个当下的交代，在写文章的过程中甚至几乎没有过周末，也没有过半夜。但当自己完成每一篇文章后，那份给自己的努力也传播给其他人技术知识。**也希望读者们能给多多点点在看分享和留言，这几乎是支撑我写作的最大动力回馈**

本书是设计模式实战型书籍📚，编写的过程中常常为找到一个合适并易于理解的场景而抓头发，甚至睡觉中梦到的合适的内容，也要用语音发给自己记录下来。好在50天的坚持终于把这22个设计模式场景写完。如果书中有一些不易于理解的内容，不要担心一定是作者没有描述清楚或找到的案例不适合。可以添加作者小傅哥(fustack)微信，交流相应的技术内容，共同进步。

**最后，我想说**：能力，是你前行的最大保障。哪怕你是兢兢业业的工作者，也是拥有`能留下的本事`和`跳出去的能力`，才会相对安稳度过动荡。