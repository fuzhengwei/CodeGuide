---
title: Docker éƒ¨ç½²é¡¹ç›®
lock: need
---

# Docker éƒ¨ç½²é¡¹ç›®

ä½œè€…ï¼šå°å‚…å“¥
<br/>åšå®¢ï¼š[https://bugstack.cn](https://bugstack.cn)

> æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„

<iframe id="B-Video" src="//player.bilibili.com/player.html?isOutside=true&aid=115771615219475&bvid=BV1K6B3BuEwP&cid=34939144626&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="100%" height="480"> </iframe>

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æŠ€æœ¯UPä¸»å°å‚…å“¥ã€‚

åœ¨å®è·µä¸­å‘ç°ï¼Œä¸å°‘ä¼™ä¼´ä¸äº†è§£äº‘æœåŠ¡å™¨æ˜¯ä»€ä¹ˆï¼Œæä¸æ¸…æ¥šäº‘æœåŠ¡å™¨å’Œæœ¬åœ°ç”µè„‘çš„å…³ç³»ï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆæŠŠä¸€ä¸ªé¡¹ç›®éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ã€‚ä½†ä½œä¸ºç¨‹åºå‘˜å­¦ä¹ ç¼–ç¨‹ï¼Œåˆç¦»ä¸å¼€äº‘æœåŠ¡å™¨ï¼Œé€ƒé¿ä¸äº†ä¸€ç‚¹ï¼

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-github-actions-workflows-01.png" width="150px">
</div>

**çœ‹çœ‹æ˜¯ä¸ä½ ä¹Ÿé‡åˆ°äº†è¿™äº›é—®é¢˜**

äº‘æœåŠ¡å™¨é€‰ä»€ä¹ˆç³»ç»Ÿã€äº‘æœåŠ¡å™¨æ€ä¹ˆå®‰è£…ç¯å¢ƒã€Intellij IDEA æ€ä¹ˆè¿æ¥äº‘æœåŠ¡å™¨ã€äº‘æœåŠ¡å™¨å®‰è£…äº† Docker æœ¬åœ°ç”µè„‘è¿˜ç”¨å®‰è£…å—ã€SpringBoot é¡¹ç›®æ€ä¹ˆéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ã€æ„å»ºçš„é•œåƒæ¨é€ä¸åˆ° Docker Hub æ€ä¹ˆåŠï¼Ÿ

ç­‰ç­‰ï¼Œä¸€äº›åˆ—çš„é—®é¢˜ï¼ŒæŠŠå°ç™½æ‹¦æˆªåœ¨äº‘æœåŠ¡å™¨çš„é—¨å¤–ã€‚ä¸è¿‡ï¼Œæ²¡å…³ç³»ï¼Œä»Šå¤©å°å‚…å“¥å°±å¸®ä½ æŠŠè¿™æ¥è…¿ğŸ¦µğŸ»çš„äº‹åŠå•¦ï¼Œè®©ä½ ä»¥åç•…é€šæ— é˜»ã€‚

>æ–‡æœ«æä¾›äº†ï¼Œ5ä¸ªAIé¡¹ç›®ã€5ä¸ªä¸šåŠ¡é¡¹ç›®ã€8ä¸ªç»„ä»¶é¡¹ç›®ã€1å¥—æºç é¡¹ç›®ï¼Œè¿˜æœ‰éå¸¸å¤šçš„å­¦ä¹ èµ„æ–™ï¼Œä½ å¯ä»¥å…¨éƒ¨è·å–å­¦ä¹ ï¼Œç§¯ç´¯æ¥è‡ªäº’è”ç½‘å¤§å‚çš„ç»éªŒã€‚

## é›¶ã€æ‰€éœ€èµ„æº

- [è´­ä¹°äº‘æœåŠ¡å™¨ 2c4g](http://618.gaga.plus/)
- [å·¥ç¨‹æ¡ˆä¾‹ä»£ç  xfg-dev-tech-docker-deploy](https://github.com/fuzhengwei/xfg-dev-tech-docker-deploy)
- [äº‘æœåŠ¡å™¨å®‰è£…è„šæœ¬](https://gaga.plus/app/dev-ops/index.html)
- [äº‘æœåŠ¡å™¨è¿æ¥å·¥å…·](https://origin.bugstack.cn/md/road-map/tool.html)
- [é˜¿é‡Œäº‘dockeré•œåƒä»“åº“](https://cr.console.aliyun.com/cn-hangzhou/instance/repositories)

## ä¸€ã€äº‘æœåŠ¡å™¨æ˜¯ä»€ä¹ˆï¼Ÿ

åœ¨ä½¿ç”¨äº‘æœåŠ¡å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç†è§£ä¸‹äº‘æœåŠ¡å™¨æ˜¯ä»€ä¹ˆï¼ŒæŠŠå®šä½ææ¸…æ¥šï¼Œåé¢çš„äº‹æ‰å¥½åŠã€‚å¦‚å›¾ï¼›

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-01.png" width="650px">
</div>

- äº‘æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ç†è§£ä¸ºæ˜¯ä½ çš„ä¹¦æ¡Œä¸Šæ‘†ç€çš„2å°ç”µè„‘ã€‚ä½ å¯ä»¥é€šè¿‡å…¶ä¸­ä¸€å°ç”µè„‘ï¼Œä»¥ SSH æ–¹å¼è¿æ¥å¦å¤–ä¸€å°ç”µè„‘ï¼Œå¹¶åœ¨å¦å¤–ä¸€å°ç”µè„‘å®‰è£… MySQLã€Redisã€Ollama ç­‰ï¼Œä»¥å‡è½»å½“å‰è¿™å°ç”µè„‘çš„å‹åŠ›ã€‚è®©æ‰‹é‡Œçš„è¿™å°ç”µè„‘åªè´Ÿè´£ä»£ç å¼€å‘ï¼Œéœ€è¦ä»€ä¹ˆèµ„æºå°±è¿æ¥å¦å¤–ä¸€å°ç”µè„‘çš„ä¸Šè½¯ä»¶å³å¯ã€‚
- ç°åœ¨ä¸ºäº†æ–¹ä¾¿çš„è®©æ¯ä¸ªäººéƒ½å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å¦å¤–ä¸€å°ç”µè„‘ï¼Œæœ‰ä¸€äº›å…¬å¸å°±æŠŠç”µè„‘é›†ä¸­èµ·æ¥æ­å»ºæˆäº†æœåŠ¡å™¨æœºæˆ¿ï¼Œåœ¨é€šè¿‡æä¾›å…¬ç½‘IPè®©ä½ åœ¨è´­ä¹°äº‘æœåŠ¡å™¨åï¼Œå¯ä»¥ç”¨ä½ çš„ç”µè„‘è¿æ¥ä¸Šäº‘æœåŠ¡å™¨ç”µè„‘ï¼Œè¿›è¡Œè½¯ä»¶çš„éƒ¨ç½²å’Œç¨‹åºå¯¹è½¯ä»¶çš„è¿æ¥ã€‚

## äºŒã€äº‘æœåŠ¡å™¨å’‹æ“ä½œï¼ˆå‘½ä»¤ï¼‰

å½“ç„¶ï¼Œäº‘æœåŠ¡å™¨çš„æ“ä½œä¹Ÿéœ€è¦ä¸€ç‚¹ Linux å‘½ä»¤çš„çŸ¥è¯†ï¼Œå®ƒä¸æ˜¯é‚£ç§`ç‚¹ç‚¹ç‚¹`çš„æ–¹å¼ä½¿ç”¨ç”µè„‘ï¼Œè€Œæ˜¯é€šè¿‡å‘½ä»¤è¡Œã€‚æ¯”å¦‚ï¼Œ`ls` æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨ã€`mkdir` åˆ›å»ºæ–‡ä»¶å¤¹ã€`chmod +x` ç»™æ–‡ä»¶æˆäºˆæ‰§è¡Œæƒé™ï¼Œå½“ç„¶ä¹Ÿæœ‰äº›æ­»é¬¼å‘Šè¯‰ä½ æ‰§è¡Œ `rm -rf /*` ä»Šå¤©ä¸€å¤©éƒ½ä¸ç”¨å¹²æ´»ï¼

ä¸ºäº†ï¼Œè®©å°ä¼™ä¼´ä»¬ï¼Œå…ˆä¸éœ€è¦çœ‹éå¸¸çš„å¤šçš„èµ„æ–™ï¼Œå°±èƒ½å¿«é€Ÿçš„ä½¿ç”¨èµ·è¿™äº›å‘½ä»¤ã€‚è¿™é‡Œå°å‚…å“¥åšäº†ä¸ªæ¨¡æ‹Ÿ Linux æœåŠ¡å™¨ï¼Œè¿›è¡Œå‘½ä»¤ç»ƒä¹ çš„ç½‘é¡µï¼Œä½ å¯ä»¥é€šè¿‡é¡µé¢çš„æ¨¡æ‹Ÿå»ºç«‹ SSH è¿æ¥ï¼Œä¹‹åå­¦ä¹ è¿™äº›å‘½ä»¤ã€‚

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-02.png" width="750px">
</div>

åœ°å€ï¼š[https://gaga.plus/app/dev-ops/tutorials/what-is-a-cloud-server.html](https://gaga.plus/app/dev-ops/tutorials/what-is-a-cloud-server.html)

è¯´æ˜ï¼šä½ æ¯ç‚¹å‡»ä¸€ä¸ªå³ä¾§çš„å‘½ä»¤ï¼Œä»–å°±ä¼šåœ¨å·¦ä¾§è¿›è¡Œè¾“å…¥ï¼Œä¹‹åæç¤ºå‘½ä»¤çš„ç”¨é€”å’Œæ•ˆæœã€‚è¿™äº›å‘½ä»¤åŒ…æ‹¬äº†å¸¸ç”¨çš„æ–‡ä»¶ã€ç›®å½•ã€ç³»ç»Ÿã€ç”¨æˆ·çš„æ“ä½œï¼Œä¹Ÿç»™å¤§å®¶å¢åŠ äº† Gitã€Dockerã€Maven çš„å‘½ä»¤ï¼ˆå³ä¾§å¾€ä¸‹ç¿»å³å¯ï¼‰

## ä¸‰ã€äº‘ç³»ç»Ÿç¯å¢ƒå®‰è£…

### 1. ç¯å¢ƒé€‰æ‹©

åœ¨ä½ é¦–æ¬¡è´­ä¹°å’Œè®¾ç½®äº‘æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå®ƒä¼šè®©ä½ é€‰æ‹©éœ€è¦å®‰è£…çš„ç³»ç»Ÿï¼ˆä¹Ÿå¯ä»¥é‡ç½®é‡æ–°å®‰è£…ï¼‰ï¼Œå®‰è£…å®Œæˆåä½ å°±å¯ä»¥é€šè¿‡å‘½ä»¤æ“ä½œï¼Œéƒ¨ç½² Docker ä»¥åŠå®‰è£…è½¯ä»¶äº†ã€‚

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-03.png" width="550px">
</div>

è¿™é‡Œæ¯”è¾ƒæ¨è Centos 7.6ã€7.9 æˆ–åˆ™ Ubuntu 24+ï¼Œè¿™ä¸¤ä¸ªç³»ç»Ÿï¼Œæˆ‘å·²ç»åšå¥½äº†ä¸€é”®å®‰è£…è„šæœ¬ï¼Œå¯ä»¥è®©ä½ éå¸¸æ–¹ä¾¿çš„æŠŠ Docker ä»¥åŠä¸€äº›å¸¸ç”¨çš„è½¯ä»¶ï¼Œå…¨éƒ¨å®‰è£…å®Œæˆã€‚

### 2. å®‰è£…è„šæœ¬

#### 2.1 Git å®‰è£…

**Centos**

```java
sudo yum install git
```

**Ubuntu**

```java
# sudo apt update
# sudo apt install nodejs npm
# node -v
# npm -v
```


```java
apt-get install git
```

#### 2.2 Docker + Portainer

```java
root@iv-ydw2iok0lcbw80bxaha0:~# ls
root@iv-ydw2iok0lcbw80bxaha0:~# cd /
root@iv-ydw2iok0lcbw80bxaha0:/# mkdir dev-ops
root@iv-ydw2iok0lcbw80bxaha0:/# ls
bin                cdrom    etc   lib64              media  proc  sbin                sys  var
bin.usr-is-merged  dev      home  lib.usr-is-merged  mnt    root  sbin.usr-is-merged  tmp
boot               dev-ops  lib   lost+found         opt    run   srv                 usr
root@iv-ydw2iok0lcbw80bxaha0:/# cd dev-ops/
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops# ls
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops# git clone https://gitcode.com/Yao__Shun__Yu/xfg-dev-tech-docker-install.git
Cloning into 'xfg-dev-tech-docker-install'...
remote: Enumerating objects: 181, done.
remote: Counting objects: 100% (35/35), done.
remote: Compressing objects: 100% (21/21), done.
remote: Total 181 (delta 20), reused 25 (delta 14), pack-reused 146 (from 1)
Receiving objects: 100% (181/181), 12.51 MiB | 1.26 MiB/s, done.
Resolving deltas: 100% (75/75), done.
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops# ls
xfg-dev-tech-docker-install
```

- æ¨èï¼›git clone https://gitcode.com/Yao__Shun__Yu/xfg-dev-tech-docker-install.git
- å¤‡ç”¨ï¼›git clone https://github.com/fuzhengwei/xfg-dev-tech-docker-install.git

- åœ¨ Linux ç³»ç»Ÿçš„æ ¹ç›®å½•ï¼Œé€šè¿‡å‘½ä»¤åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œè¿›å…¥æ–‡ä»¶å¤¹ï¼Œé€šè¿‡ git clone æ£€å‡ºä»£ç ã€‚
- è¿™é‡Œæœ‰2ä¸ªåœ°å€ï¼Œå¦‚æœ github.com æ£€å‡ºå¾ˆæ…¢ï¼Œå¯ä»¥ä½¿ç”¨ gitcode.com åœ°å€æ£€å‡ºã€‚

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# chmod +x ubuntu_run_install_docker_local.sh 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# ./ubuntu_run_install_docker_local.sh 
[INFO] ä½¿ç”¨æœ¬åœ°Dockerå®‰è£…è„šæœ¬: ubuntu_install_docker.sh
[INFO] è®¾ç½®å¯æ‰§è¡Œæƒé™...
[INFO] å¼€å§‹æ‰§è¡ŒDockerå®‰è£…è„šæœ¬...
[INFO] æ³¨æ„ï¼šå®‰è£…è¿‡ç¨‹å¯èƒ½éœ€è¦rootæƒé™ï¼Œå¦‚æœéœ€è¦ä¼šè‡ªåŠ¨è¯·æ±‚
-----------------------------------------------------------
[INFO] docker ç¯å¢ƒå®‰è£…è„šæœ¬ By xiaofugeï¼Œå»ºè®®ä½¿ç”¨ https://618.gaga.plus ä¼˜æƒ è´­ä¹°æœåŠ¡å™¨ï¼Œå®‰è£… Ubuntu 24.04 LTS ç³»ç»Ÿã€‚
[INFO] å¼€å§‹å®‰è£… Docker ç¯å¢ƒ...
[INFO] æ£€æŸ¥ç³»ç»Ÿä¿¡æ¯...
å†…æ ¸ç‰ˆæœ¬: 6.8.0-55-generic
æ“ä½œç³»ç»Ÿ: Ubuntu 24.04 LTS
[INFO] æ£€æµ‹ç½‘ç»œè¿æ¥çŠ¶æ€...
[INFO] ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œå¯ä»¥è®¿é—®: https://www.baidu.com
[INFO] ç½‘ç»œè¿æ¥æ£€æµ‹é€šè¿‡
...
Status: Downloaded newer image for registry.cn-hangzhou.aliyuncs.com/xfg-studio/portainer:latest
1c2d6211944ced359ebec2e5d28b9cf30eec55bc781b386838c54abc944ed1f3
[INFO] Portainerå®‰è£…æˆåŠŸï¼
[WARNING] é‡è¦æç¤ºï¼šè¯·ç¡®ä¿æ‚¨çš„äº‘æœåŠ¡å™¨å·²å¼€æ”¾9000ç«¯å£ï¼
-----------------------------------------------------------
Portainerè®¿é—®æ–¹å¼ï¼š
1. é€šè¿‡å…¬ç½‘è®¿é—®ï¼šhttp://æ‚¨çš„æœåŠ¡å™¨å…¬ç½‘IP:9000
2. é¦–æ¬¡è®¿é—®éœ€è¦è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç 
3. ç™»å½•åå³å¯é€šè¿‡Webç•Œé¢ç®¡ç†Dockerå®¹å™¨
-----------------------------------------------------------
[INFO] æ‚¨å¯ä»¥ä½¿ç”¨Portaineræ¥æ–¹ä¾¿åœ°ç®¡ç†Dockerå®¹å™¨ã€é•œåƒã€ç½‘ç»œå’Œå·ç­‰èµ„æº
```

- Centos æ‰§è¡Œ `chmod +x centos_run_install_docker_local.sh` `./centos_run_install_docker_local.sh`
- Ubuntu æ‰§è¡Œ `chmod +x ubuntu_run_install_docker_local.sh` `./ubuntu_run_install_docker_local.sh`

æ‰§è¡Œçš„ä¸­é—´ï¼Œä»–ä¼šæœ‰ä¸€äº›æç¤ºä½ çš„æ“ä½œï¼Œä½ å¯ä»¥æŒ‰ç…§æç¤ºè¾“å…¥ä¹‹åç»§ç»­è¿è¡Œå°±å¥½ã€‚å®‰è£…åˆ°æœ€åï¼ŒDocker + Portainer å°±å®‰è£…å®Œæˆäº†ã€‚æ³¨æ„ï¼Œäº‘æœåŠ¡å™¨çš„è®¿é—®ï¼Œéœ€è¦å¼€æ”¾å¯¹åº”çš„ç«¯å£åœ¨äº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„ä¸­æ‰¾åˆ°å‡ºå…¥ç«™é…ç½®ï¼ˆä¹Ÿå¯ä»¥åœ¨äº‘æœåŠ¡å™¨å®˜ç½‘æœï¼Œä»–éƒ½ä¼šæä¾›æ–‡æ¡£ï¼‰ã€‚

#### 2.3 è½¯ä»¶å®‰è£…ï¼ˆJDKã€Mavenï¼‰å¯é€‰

åœ¨ xfg-dev-tech-docker-install ä¸€é”®å®‰è£…è„šæœ¬ä¸­ï¼Œè¿˜æœ‰æä¾› JDKã€Maven çš„å®‰è£…ã€‚è¿™ä¸ªè½¯ä»¶å®‰å…¨æ˜¯ä¸ºäº†åœ¨äº‘æœåŠ¡å™¨ç›´æ¥æ„å»º Java é¡¹ç›®ï¼Œå¦‚æœä½ ä¸éœ€è¦ï¼Œæ˜¯å®Œå…¨å¯ä»¥ä¸ç”¨å®‰è£…çš„ã€‚

**Centos å®‰è£…**

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# ls
centos_install_docker.sh            help.md                  software
centos_run_install_docker_local.sh  README.md                ubuntu_install_docker.sh
environment                         run_install_software.sh  ubuntu_run_install_docker_local.sh
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# cd environment/
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment# ls
jdk  maven
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment# cd jdk/
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/jdk# ls
install-java.sh  remove-java.sh
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/jdk# chmod +x install-java.sh 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/jdk# ./install-java.sh 
[INFO] å¼€å§‹JDKå®‰è£…ç¨‹åº...
[INFO] æ£€æµ‹åˆ°ç³»ç»Ÿ: Ubuntu 24.04

[INFO] è¯·é€‰æ‹©è¦å®‰è£…çš„JDKç‰ˆæœ¬ï¼š
1. JDK 8 (1.8.0_202)
2. JDK 17 (17.0.14)

è¯·é€‰æ‹©ç‰ˆæœ¬ (1/2): 1
[INFO] å·²é€‰æ‹©JDK 8
[INFO] JDKé…ç½®: ç‰ˆæœ¬=1.8.0_202, åŒ…å=jdk-8u202-linux-x64.tar.gz
[INFO] æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–åŒ…...
[INFO] JDKåŒ…å·²å­˜åœ¨: ./jdk-8u202-linux-x64.tar.gz
[SUCCESS] JDKåŒ…éªŒè¯é€šè¿‡
[INFO] å¼€å§‹å®‰è£…JDK 1.8.0_202 åˆ°: /usr/local/java
[INFO] è§£å‹JDKåŒ…...
[SUCCESS] JDKè§£å‹å®Œæˆ
...
\033[0;34mç¯å¢ƒå˜é‡:\033[0m
JAVA_HOME=/usr/local/java
PATH=$JAVA_HOME/bin:$PATH
CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar
æ˜¯å¦åˆ é™¤ä¸‹è½½çš„JDKåŒ…? (y/N): N
[SUCCESS] JDK 1.8.0_202 å®‰è£…å®Œæˆ!
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/jdk# java -version
```

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment# ls
jdk  maven
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment# cd maven/
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/maven# ls
apache-maven-3.8.8.zip  install-maven.sh  remove-maven.sh
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/maven# chmod +x install-maven.sh 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/maven# ./install-maven.sh 
[INFO] å¼€å§‹Mavenå®‰è£…ç¨‹åº...
[INFO] æ£€æµ‹åˆ°ç³»ç»Ÿ: Ubuntu 24.04
[INFO] æ£€æµ‹åˆ°Javaç‰ˆæœ¬: 1.8.0_472
[INFO] æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–åŒ…...
[SUCCESS] MavenåŒ…éªŒè¯é€šè¿‡
[INFO] å¼€å§‹å®‰è£…Maven 3.8.8 åˆ°: /usr/local/maven
[INFO] è§£å‹MavenåŒ…...
[SUCCESS] Mavenè§£å‹å®Œæˆ
[INFO] é…ç½®ç¯å¢ƒå˜é‡...
[SUCCESS] ç¯å¢ƒå˜é‡é…ç½®å®Œæˆ
[INFO] ç¯å¢ƒå˜é‡å·²åœ¨å½“å‰ä¼šè¯ä¸­ç”Ÿæ•ˆ
[INFO] éªŒè¯å®‰è£…...
[SUCCESS] Mavenå®‰è£…æˆåŠŸ!
```

**Ubuntu å®‰è£…**

```java
sudo apt update
sudo apt install openjdk-8-jdk
  
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment# java -version
openjdk version "1.8.0_472"
OpenJDK Runtime Environment (build 1.8.0_472-8u472-ga-1~24.04-b08)
OpenJDK 64-Bit Server VM (build 25.472-b08, mixed mode)
```

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/maven# apt install maven
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following packages were automatically in
  
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/maven# mvn --version
Apache Maven 3.8.7
Maven home: /usr/share/maven
...  
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/environment/maven# cd /usr/share/maven
root@iv-ydw2iok0lcbw80bxaha0:/usr/share/maven# ls
bin  boot  conf  lib  man
root@iv-ydw2iok0lcbw80bxaha0:/usr/share/maven# cd conf
root@iv-ydw2iok0lcbw80bxaha0:/usr/share/maven/conf# ls
logging  m2.conf  settings.xml  toolchains.xml  
```

Ubuntu åŸºæœ¬é€šè¿‡ apt å°±å¯ä»¥å®Œæ•´è¿™äº›è½¯ä»¶çš„å®‰è£…äº†ã€‚æ³¨æ„è¿›å…¥ conf æ›¿æ¢ settings.xml æ–‡ä»¶å¸¦æœ‰é˜¿é‡Œäº‘ maven é•œåƒçš„åœ°å€ã€‚

åœ°å€ï¼š[https://gitcode.com/Yao__Shun__Yu/xfg-dev-tech-docker-install/blob/main/environment/maven/apache-maven-3.8.8/conf/settings.xml](https://gitcode.com/Yao__Shun__Yu/xfg-dev-tech-docker-install/blob/main/environment/maven/apache-maven-3.8.8/conf/settings.xml)

#### 2.4 è½¯ä»¶å®‰è£…ï¼ˆMySQLã€Redisï¼‰

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# cd software/
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/software# ls
docker-compose-software-aliyun.yml  grafana  logstash  pgvector    rabbitmq
docker-compose-software.yml         kibana   mysql     prometheus  redis
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install/software# cd ..
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# ls
centos_install_docker.sh            help.md                  software
centos_run_install_docker_local.sh  README.md                ubuntu_install_docker.sh
environment                         run_install_software.sh  ubuntu_run_install_docker_local.sh
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# chmod +x run_install_software.sh 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-install# ./run_install_software.sh 
[INFO] å½“å‰ç£ç›˜ç©ºé—´ä¿¡æ¯ï¼šæ€»ç©ºé—´ 40Gï¼Œå·²ä½¿ç”¨ 4.3Gï¼Œå¯ç”¨ 34Gï¼Œä½¿ç”¨ç‡ 12%
-----------------------------------------------------------
[HEADER] é€‰æ‹©é…ç½®æ–‡ä»¶ï¼š
-----------------------------------------------------------
1. ä½¿ç”¨åŸå§‹é…ç½®æ–‡ä»¶ (æ¨èï¼Œä½†å¯èƒ½éœ€è¦ä»Docker Hubæ‹‰å–é•œåƒ)
2. ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒé…ç½®æ–‡ä»¶ (å›½å†…ç½‘ç»œç¯å¢ƒæ¨è)
-----------------------------------------------------------
è¯·é€‰æ‹©é…ç½®æ–‡ä»¶ [1/2] (é»˜è®¤: 1): 1
[INFO] å·²é€‰æ‹©ä½¿ç”¨åŸå§‹é…ç½®æ–‡ä»¶
-----------------------------------------------------------
[HEADER] å¯å®‰è£…çš„è½¯ä»¶åˆ—è¡¨ï¼š
-----------------------------------------------------------
1. nacos (é¢„è®¡å ç”¨ç©ºé—´: 500MB)
2. mysql (é¢„è®¡å ç”¨ç©ºé—´: 600MB)
3. phpmyadmin (é¢„è®¡å ç”¨ç©ºé—´: 100MB)
4. redis (é¢„è®¡å ç”¨ç©ºé—´: 50MB)
5. redis-admin (é¢„è®¡å ç”¨ç©ºé—´: 50MB)
6. rabbitmq (é¢„è®¡å ç”¨ç©ºé—´: 300MB)
7. elasticsearch (é¢„è®¡å ç”¨ç©ºé—´: 500MB)
8. logstash (é¢„è®¡å ç”¨ç©ºé—´: 300MB)
9. kibana (é¢„è®¡å ç”¨ç©ºé—´: 200MB)
10. xxl-job-admin (é¢„è®¡å ç”¨ç©ºé—´: 150MB)
11. prometheus (é¢„è®¡å ç”¨ç©ºé—´: 100MB)
12. grafana (é¢„è®¡å ç”¨ç©ºé—´: 100MB)
13. ollama (é¢„è®¡å ç”¨ç©ºé—´: 200MB)
14. pgvector (é¢„è®¡å ç”¨ç©ºé—´: 150MB)
15. pgvector-admin (é¢„è®¡å ç”¨ç©ºé—´: 50MB)
-----------------------------------------------------------
è¯·é€‰æ‹©è¦å®‰è£…çš„è½¯ä»¶ï¼ˆå¤šé€‰ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œå¦‚ï¼š1 3 5ï¼‰ï¼š
2 3
-----------------------------------------------------------
[HEADER] æ‚¨é€‰æ‹©äº†ä»¥ä¸‹è½¯ä»¶ï¼š
- phpmyadmin (é¢„è®¡å ç”¨ç©ºé—´: 100MB)
- mysql (é¢„è®¡å ç”¨ç©ºé—´: 600MB)
æ€»è®¡é¢„è®¡å ç”¨ç©ºé—´: 700MB
-----------------------------------------------------------
-----------------------------------------------------------
[HEADER] MySQLåˆå§‹åŒ–æç¤ºï¼š
-----------------------------------------------------------
[INFO] æ‚¨é€‰æ‹©äº†å®‰è£…MySQLï¼Œå®‰è£…å®Œæˆåå¯ä»¥ä½¿ç”¨phpmyadminè¿›è¡Œç®¡ç†
[INFO] å¦‚æœæ‚¨å¸Œæœ›åœ¨åˆå§‹åŒ–æ—¶åˆ›å»ºæ•°æ®åº“å’Œè¡¨ï¼Œå¯ä»¥å°†SQLè„šæœ¬æ”¾åœ¨ä»¥ä¸‹ç›®å½•ï¼š
  /dev-ops/xfg-dev-tech-docker-install/software/mysql/sql/
[INFO] ç›®å‰è¯¥ç›®å½•å·²åŒ…å«ä»¥ä¸‹SQLæ–‡ä»¶ï¼š
  - init.sql
  - nacos.sql
  - xxl_job.sql
[INFO] æ‚¨å¯ä»¥æ·»åŠ è‡ªå·±çš„SQLæ–‡ä»¶åˆ°è¯¥ç›®å½•ï¼Œå®ƒä»¬å°†åœ¨MySQLåˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰§è¡Œ
-----------------------------------------------------------
ç¡®è®¤å®‰è£…ä»¥ä¸Šè½¯ä»¶ï¼Ÿ(y/n): y
[INFO] æ­£åœ¨æ£€æŸ¥æœåŠ¡ä¾èµ–å…³ç³»...
[INFO] å¼€å§‹å®‰è£…é€‰ä¸­çš„è½¯ä»¶...
[+] Running 34/34
 âœ” phpmyadmin 21 layers [â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿]      0B/0B      Pulled                              499.9s 
   âœ” 858a356e9dad Pull complete                                                                       1.7s 
 âœ” Container phpmyadmin         Started                                                               5.8s 
[INFO] è½¯ä»¶å®‰è£…å®Œæˆï¼
-----------------------------------------------------------
[HEADER] å·²å®‰è£…çš„è½¯ä»¶åŠè®¿é—®ä¿¡æ¯ï¼š
- phpmyadmin: è®¿é—®åœ°å€ï¼šhttp://æœåŠ¡å™¨IP:8899 (è¿æ¥åˆ°MySQL)
- mysql: è´¦å·ï¼šroot å¯†ç ï¼š123456 ç«¯å£ï¼š13306
[INFO] MySQLå·²å®‰è£…æˆåŠŸï¼Œæ‚¨å¯ä»¥ä½¿ç”¨phpmyadminè¿›è¡Œç®¡ç†
[INFO] åˆå§‹åŒ–SQLè„šæœ¬å·²è‡ªåŠ¨æ‰§è¡Œï¼ŒåŒ…æ‹¬ï¼š
  - init.sql
  - nacos.sql
  - xxl_job.sql
-----------------------------------------------------------
[INFO] å¦‚éœ€ä¿®æ”¹è´¦å·å¯†ç ï¼Œè¯·ç¼–è¾‘ /dev-ops/xfg-dev-tech-docker-install/software/docker-compose-software.yml æ–‡ä»¶
[INFO] ä¿®æ”¹åï¼Œé‡æ–°è¿è¡Œæ­¤è„šæœ¬å³å¯æ›´æ–°é…ç½®  
```

- æ‰§è¡Œæä¾›å¥½çš„è„šæœ¬ï¼Œå³å¯å®Œæˆå„é¡¹è½¯ä»¶çš„å®‰è£…ã€‚å…¶ä»–çš„è½¯ä»¶ï¼Œä¹Ÿå¯ä»¥æœç´¢æ•™ç¨‹å®‰è£…ã€‚

### 3. åº”ç”¨é…ç½®

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-04.png" width="750px">
</div>

- äº‘æœåŠ¡å™¨ç¯å¢ƒ Docker + Portainerï¼ˆç®¡ç†dockerçš„è½¯ä»¶ï¼‰ ä»¥åŠè½¯ä»¶å®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ä½ çš„ IntelliJ IDEA çš„ç¨‹åºé‡Œé…ç½®å¯¹åº”çš„è¿æ¥ä¿¡æ¯äº†ã€‚è¿™æ ·ä½ çš„æœ¬åœ°å°±å¯ä»¥è¿æ¥åˆ°äº‘æœåŠ¡å™¨ä¸Šçš„ Docker é‡Œå®‰è£…çš„ MySQL äº†ã€‚
- Docker æ˜¯éå¸¸å¸¸ç”¨çš„è½¯ä»¶ï¼Œä¹Ÿæ˜¯éå¸¸å¥½ç”¨çš„è½¯ä»¶ï¼Œå¯¹äºå¼€å‘å­¦ä¹ éƒ¨ç½²å’Œå¸è½½å„ç±»è½¯ä»¶éƒ½éå¸¸æ–¹ä¾¿ï¼Œä¸ä¼šç ´åæœ¬åœ°ç¯å¢ƒã€‚

## å››ã€é¡¹ç›®éƒ¨ç½²

Docker éƒ¨ç½²é¡¹ç›®éœ€è¦çš„æ˜¯ç¨‹åºçš„é•œåƒï¼Œé•œåƒçš„ç›®çš„æ˜¯æŠŠä¸€ä¸ªç¨‹åºè¿è¡Œæ‰€éœ€çš„å„ç±»ç¯å¢ƒéƒ½ç»™æ‰“åŒ…è¿›è¡Œï¼Œç­‰è¿è¡Œéƒ¨ç½²çš„æ—¶å€™ç›´æ¥æ‰§è¡Œå³å¯ã€‚

æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šé€šè¿‡å„ç§æ–¹å¼æ¥å®Œæˆé•œåƒçš„æ„å»ºå’Œéƒ¨ç½²ï¼ŒåŒ…æ‹¬ï¼›
| æ–¹æ¡ˆ                                                         | å¤æ‚åº¦ |
| ------------------------------------------------------------ | ------ |
| æœ¬åœ°æ‰“åŒ…Jar + äº‘ä¸Šæ„å»ºé•œåƒã€‚                                 | â­ï¸â­ï¸     |
| äº‘ä¸Šæ‰“åŒ…Jar + äº‘ä¸Šæ„å»ºé•œåƒã€‚                                 | â­ï¸â­ï¸â­ï¸    |
| æœ¬åœ°æ‰“åŒ…Jar + æœ¬åœ°æ„å»ºé•œåƒ + ä¸Šä¼ åˆ°é˜¿é‡Œäº‘ Docker é•œåƒä»“åº“ + äº‘ä¸Šæ‹‰å–æ„å»º | â­ï¸â­ï¸â­ï¸â­ï¸   |

### 1. æ–‡ä»¶é…ç½®

#### 1.1 dockerfile

```java
# åŸºç¡€é•œåƒ openjdk:8-jre-slim
FROM registry.cn-hangzhou.aliyuncs.com/xfg-studio/openjdk:8-jre-slim

# ä½œè€…
MAINTAINER xiaofuge

# é…ç½®
ENV PARAMS=""

# æ—¶åŒº
ENV TZ=PRC
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

# æ·»åŠ åº”ç”¨
ADD target/xfg-dev-tech-docker-deploy-app.jar /xfg-dev-tech-docker-deploy-app.jar

ENTRYPOINT ["sh","-c","java -jar $JAVA_OPTS /xfg-dev-tech-docker-deploy-app.jar $PARAMS"]
```

- è¿™é‡Œé…ç½®äº†æ„å»ºé•œåƒçš„åœ°å€ä¿¡æ¯ã€‚

#### 1.2 build.sh

```java
# æ™®é€šé•œåƒæ„å»ºï¼Œéšç³»ç»Ÿç‰ˆæœ¬æ„å»º amd/arm
docker build -t system/xfg-dev-tech-docker-deploy-app:1.0-SNAPSHOT -f ./Dockerfile .

# å…¼å®¹ amdã€arm æ„å»ºé•œåƒ
# docker buildx build --load --platform liunx/amd64,linux/arm64 -t xiaofuge/xfg-frame-archetype-app:1.0 -f ./Dockerfile . --push
```

- é…ç½®äº†æ„å»ºé•œåƒçš„åç§°ã€‚

### 2. æ„å»ºé•œåƒ

#### 2.1 æœ¬åœ°æ‰“åŒ…Jar + äº‘ä¸Šæ„å»ºé•œåƒ

##### 2.1.1 æ‰“åŒ…jar 

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-05.png" width="750px">
</div>

- åœ¨æœ¬åœ° install æ„å»ºé¡¹ç›® jarï¼Œtarget ç›®å½•ä¸‹å¯ä»¥åªä¿ç•™é¡¹ç›®çš„ jar å…¶ä»–çš„åˆ æ‰å°±å¯ä»¥ã€‚

##### 2.1.2 ä¸Šä¼ jar

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-06.png" width="750px">
</div>

- æŠŠæœ¬åœ°æ„å»ºçš„jarï¼Œé€šè¿‡ sftp æŠŠæ•´ä¸ª xfg-dev-tech-deploy-app ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ã€‚

##### 2.1.3 æ„å»ºé•œåƒ

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops# ls
xfg-dev-tech-docker-deploy-app  xfg-dev-tech-docker-install
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops# cd xfg-dev-tech-docker-deploy-app/
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy-app# ls
build.sh  Dockerfile  pom.xml  src  target
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy-app# chmod +x build.sh 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy-app# ./build.sh 
[+] Building 64.5s (8/8) FINISHED                                                           docker:default
 => [internal] load build definition from Dockerfile                                                  0.0s
 => => transferring dockerfile: 484B                                                                  0.0s
 => WARN: MaintainerDeprecated: Maintainer instruction is deprecated in favor of using label (line 5  0.0s
 => [internal] load metadata for registry.cn-hangzhou.aliyuncs.com/xfg-studio/openjdk:8-jre-slim      0.7s
 => [internal] load .dockerignore                                                                     0.0s
 => => transferring context: 2B                                                                       0.0s
...
 => => unpacking to docker.io/system/xfg-dev-tech-docker-deploy-app:1.0-SNAPSHOT                      0.1s

 1 warning found (use docker --debug to expand):
 - MaintainerDeprecated: Maintainer instruction is deprecated in favor of using label (line 5)
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy-app# docker images
                                                                                       i Info â†’   U  In Use
IMAGE                                                      ID             DISK USAGE   CONTENT SIZE   EXTRA
mysql:8.0.32                                               f496c25da703        728MB          157MB    U   
phpmyadmin:5.2.1                                           6e75aa8f767c        798MB          193MB    U   
registry.cn-hangzhou.aliyuncs.com/xfg-studio/portainer:latest
                                                           11384457b374        374MB         86.8MB    U   
system/xfg-dev-tech-docker-deploy-app:1.0-SNAPSHOT         14e1cd401829        332MB         98.2MB  
```

- é€šè¿‡è¿™æ ·çš„æ–¹å¼å°±æŠŠæ•´ä¸ªé•œåƒæ„å»ºå‡ºæ¥ï¼Œ`docker images` å¯ä»¥æŸ¥çœ‹é•œåƒåˆ—è¡¨ï¼Œsystem/xfg-dev-tech-docker-deploy-app:1.0-SNAPSHOT å°±æ˜¯å’±ä»¬æ„å»ºçš„é•œåƒã€‚

#### 2.2 äº‘ä¸Šæ‰“åŒ…Jar + äº‘ä¸Šæ„å»ºé•œåƒ

##### 2.2.1 æ‹‰å–é¡¹ç›®

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy# ls
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy# git clone https://github.com/fuzhengwei/xfg-dev-tech-docker-deploy.git
Cloning into 'xfg-dev-tech-docker-deploy'...
remote: Enumerating objects: 176, done.
remote: Counting objects: 100% (176/176), done.
remote: Compressing objects: 100% (87/87), done.
remote: Total 176 (delta 23), reused 175 (delta 22), pack-reused 0 (from 0)
Receiving objects: 100% (176/176), 75.84 KiB | 40.00 KiB/s, done.
Resolving deltas: 100% (23/23), done.
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy# ls
xfg-dev-tech-docker-deploy
```

- é€šè¿‡ git clone å‘½ä»¤ï¼Œæ‹‰å–é¡¹ç›®ã€‚

##### 2.2.2 æ‰“åŒ…jar

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy# ls
docs  pom.xml  README.md  xfg-dev-tech-docker-deploy-app
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy# mvn clean install
[INFO] Scanning for projects...
Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.7.12/spring-boot-starter-parent-2.7.12.pom
...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for xfg-dev-tech-docker-deploy 1.0-SNAPSHOT:
[INFO] 
[INFO] xfg-dev-tech-docker-deploy ......................... SUCCESS [  0.219 s]
[INFO] xfg-dev-tech-docker-deploy-app ..................... SUCCESS [05:29 min]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  05:29 min
[INFO] Finished at: 2025-12-21T10:56:57+08:00
[INFO] ------------------------------------------------------------------------
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy# ls
docs  pom.xml  README.md  xfg-dev-tech-docker-deploy-app  
```

- è¿›å…¥åˆ°é¡¹ç›®ï¼Œé€šè¿‡ `mvn clean install` æ‰“åŒ…é¡¹ç›® jar

##### 2.2.3 æ„å»ºé•œåƒ

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy-app# ls
build.sh  Dockerfile  pom.xml  src  target
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy-app# chmod +x build.sh 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy-app# cat build.sh 
# æ™®é€šé•œåƒæ„å»ºï¼Œéšç³»ç»Ÿç‰ˆæœ¬æ„å»º amd/arm
docker build -t system/xfg-dev-tech-docker-deploy-app:1.1-SNAPSHOT -f ./Dockerfile .

# å…¼å®¹ amdã€arm æ„å»ºé•œåƒ
# docker buildx build --load --platform liunx/amd64,linux/arm64 -t xiaofuge/xfg-frame-archetype-app:1.0 -f ./Dockerfile . --pushroot@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy-app# ./build.sh 
[+] Building 1.3s (8/8) FINISHED                                                                                               docker:default
 => [internal] load build definition from Dockerfile                                                                                     0.0s
 => => transferring dockerfile: 484B                                                                                                     0.0s
 => WARN: MaintainerDeprecated: Maintainer instruction is deprecated in favor of using label (line 5)                                    0.0s
 => [internal] load metadata for registry.cn-hangzhou.aliyuncs.com/xfg-studio/openjdk:8-jre-slim                                         0.4s
 => [internal] load .dockerignore                                                                                                        0.0s
 => => transferring context: 2B                                                                                                          0.0s
 => [1/3] FROM registry.cn-hangzhou.aliyuncs.com/xfg-studio/openjdk:8-jre-slim@sha256:285c61a1e5e6b7b3709729b69558670148c5fdc6eb7104fae  0.0s
 => => resolve registry.cn-hangzhou.aliyuncs.com/xfg-studio/openjdk:8-jre-slim@sha256:285c61a1e5e6b7b3709729b69558670148c5fdc6eb7104fae  0.0s
 => [internal] load build context                                                                                                        0.1s
 => => transferring context: 26.15MB                                                                                                     0.1s
 => CACHED [2/3] RUN ln -snf /usr/share/zoneinfo/PRC /etc/localtime && echo PRC > /etc/timezone                                          0.0s
 => [3/3] ADD target/xfg-dev-tech-docker-deploy-app.jar /xfg-dev-tech-docker-deploy-app.jar                                              0.0s
 => exporting to image                                                                                                                   0.7s
 => => exporting layers                                                                                                                  0.6s
 => => exporting manifest sha256:14e4dd6822541669e1ac4c0c6957c74be06f401556ffca134fa42133df9dacb1                                        0.0s
 => => exporting config sha256:f4581c52995e78750c432c2bd3c7bcaa393398ee7d7d62c331ccb69c2825a724                                          0.0s
 => => exporting attestation manifest sha256:5c7a6af7000015669c2e5dccd10d74b68357359994f42a5e211883ab2b0d7335                            0.0s
 => => exporting manifest list sha256:335d04f3bc894e32e70b2c126a6e0abccd4c6136d44e6b9c1f0060e492816419                                   0.0s
 => => naming to docker.io/system/xfg-dev-tech-docker-deploy-app:1.1-SNAPSHOT                                                            0.0s
 => => unpacking to docker.io/system/xfg-dev-tech-docker-deploy-app:1.1-SNAPSHOT                                                         0.1s

 1 warning found (use docker --debug to expand):
 - MaintainerDeprecated: Maintainer instruction is deprecated in favor of using label (line 5)
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy/xfg-dev-tech-docker-deploy-app# docker images
                                                                                                                          i Info â†’   U  In Use
IMAGE                                                           ID             DISK USAGE   CONTENT SIZE   EXTRA
mysql:8.0.32                                                    f496c25da703        728MB          157MB    U   
phpmyadmin:5.2.1                                                6e75aa8f767c        798MB          193MB    U   
registry.cn-hangzhou.aliyuncs.com/xfg-studio/portainer:latest   11384457b374        374MB         86.8MB    U   
system/xfg-dev-tech-docker-deploy-app:1.0-SNAPSHOT              14e1cd401829        332MB         98.2MB        
system/xfg-dev-tech-docker-deploy-app:1.1-SNAPSHOT              335d04f3bc89        332MB         98.2MB       
```

- è¿™æ ·ï¼Œå°±åœ¨äº‘æœåŠ¡å™¨æŠŠé¡¹ç›®é•œåƒæ„å»ºå‡ºæ¥äº†ã€‚

#### 2.3 é˜¿é‡Œäº‘ DockerHub

##### 2.3.1 è´¦å·ç”³è¯·

å®˜ç½‘ï¼š[https://cr.console.aliyun.com/cn-hangzhou/instance/dashboard](https://cr.console.aliyun.com/cn-hangzhou/instance/dashboard)

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-07.png" width="750px">
</div>

- å¦‚å›¾æ‰€ç¤ºï¼Œç”³è¯·è´¦å·ï¼Œåˆ›å»ºä¸ªäººçš„å‘½åç©ºé—´ã€‚æ­¥éª¤3ã€4å¯é€‰ã€‚
- ä¹‹åä½ è¿™é‡Œå¯ä»¥æ‰‹åŠ¨æ“ä½œä¸Šä¼ é•œåƒï¼Œä¹Ÿå¯ä»¥èµ°ä¸‹é¢çš„æµç¨‹è‡ªåŠ¨æ“ä½œã€‚

##### 2.3.2 ä¸Šä¼ é•œåƒ

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-08.png" width="950px">
</div>

- åœ¨é¡¹ç›®ä¸‹ï¼Œæœ‰ä¸€ä¸ª push.sh æ–‡ä»¶ï¼Œå¯ä»¥æŠŠé•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘ DockerHub é•œåƒåº“ã€‚è¿™æ ·æ“ä½œçš„ç›®çš„æ˜¯æœ‰ä¸ªç»Ÿä¸€åœ°æ–¹æ¥ç»´æŠ¤é•œåƒï¼Œå„ä¸ªäº‘æœåŠ¡å™¨éƒ½å¯ä»¥æ‹‰å–éƒ¨ç½²äº†ã€‚
- æ¨é€åï¼Œå¯ä»¥åˆ°ä»“åº“æŸ¥çœ‹é•œåƒ [https://cr.console.aliyun.com/cn-hangzhou/instance/repositories](https://cr.console.aliyun.com/cn-hangzhou/instance/repositories)

### 3. é¡¹ç›®éƒ¨ç½²

#### 3.1 è„šæœ¬è¯´æ˜

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-09.png" width="950px">
</div>

- è¿™é‡Œçš„é•œåƒåç§°ï¼Œè¦ä¿®æ”¹æˆä½ çš„é•œåƒåç§°ã€‚

#### 3.2 ä¸Šä¼ è„šæœ¬

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-10.png" width="950px">
</div>

- ä¸Šä¼ é¡¹ç›®ä¸‹çš„éƒ¨ç½²è„šæœ¬åˆ°äº‘æœåŠ¡å™¨ï¼Œdev-ops åˆ›å»ºä¸ªæ–‡ä»¶å¤¹ã€‚

#### 3.3 æ‰§è¡Œéƒ¨ç½²

```java
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/docker-compose# ls
app  docker-compose-app.yml  docker-compose-environment-aliyun.yml  docker-compose-environment.yml  mysql
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/docker-compose# docker-compose -f docker-compose-app.yml up -d
[+] Running 6/6
 âœ” xfg-dev-tech-docker-deploy 5 layers [â£¿â£¿â£¿â£¿â£¿]      0B/0B      Pulled                                                                  205.7s 
   âœ” f355a2e0723d Pull complete                                                                                                         34.0s 
   âœ” f7ec5a41d630 Pull complete                                                                                                         65.9s 
   âœ” b747e468795b Pull complete                                                                                                        203.7s 
   âœ” 88f5ee065d77 Pull complete                                                                                                          0.3s 
   âœ” faf4c47c8c61 Pull complete                                                                                                         36.0s 
[+] Running 1/2
 â ‹ Network docker-compose_my-network     Created                                                                                         2.0s 
 âœ” Container xfg-dev-tech-docker-deploy  Started                                                                                         1.9s 
root@iv-ydw2iok0lcbw80bxaha0:/dev-ops/docker-compose# 
```

<div align="center">
    <img src="https://bugstack.cn/images/roadmap/tutorial/road-map-docker-deploy-11.png" width="950px">
</div>

- éƒ¨ç½²åï¼Œå°±å¯ä»¥è®¿é—®æœåŠ¡çœ‹æœ€ç»ˆçš„æ•ˆæœäº†ï¼**
